(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9271],{3302:(e,t,a)=>{Promise.resolve().then(a.bind(a,70724))},70724:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(95155),o=a(88661),s=a.n(o),i=a(12115),n=a(12690),c=a(50108),l=a(71691);function d(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),[a,o]=(0,i.useState)("scene1"),[d,m]=(0,i.useState)(!0),[p,b]=(0,i.useState)(!1),[x,u]=(0,i.useState)(!0),[h,f]=(0,i.useState)(!1),v=(0,i.useRef)(!1),g=[{id:"scene1",panorama:"/360/v360-1.jpg",name:"Field",description:"Field of Prestasi Prima School",markers:[{id:"toCooperative",position:{yaw:.43,pitch:-.01},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Cooperative",data:{targetScene:"scene2"}},{id:"toExc",position:{yaw:-.01,pitch:.36},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive",data:{targetScene:"scene5"}}]},{id:"scene2",panorama:"/360/v360-3.jpg",name:"Cooperative",description:"Cooperative of Prestasi Prima School",markers:[{id:"toField",position:{yaw:.83,pitch:-.05},html:'<div class="select-none custom-marker">←</div>',tooltip:"To Field",data:{targetScene:"scene1"}},{id:"toCafeteria",position:{yaw:1.01,pitch:-.05},html:'<div class="select-none custom-marker">→</div>',tooltip:"To Cafeteria",data:{targetScene:"scene3"}}]},{id:"scene3",panorama:"/360/v360-4.jpg",name:"Cafeteria",description:"Cafeteria of Prestasi Prima School",markers:[{id:"toCooperative",position:{yaw:-.77,pitch:-.07},html:'<div class="select-none custom-marker">←</div>',tooltip:"To Cooperative",data:{targetScene:"scene2"}}]},{id:"scene4",panorama:"/360/v360-2.jpg",name:"Corridor",description:"Corridor of Prestasi Prima School",markers:[{id:"toField",position:{yaw:2.83,pitch:-.3},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Field",data:{targetScene:"scene1"}},{id:"toExc",position:{yaw:4.14,pitch:-.02},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive",data:{targetScene:"scene5"}}]},{id:"scene5",panorama:"/360/v360-10.jpg",name:"Executive",description:"Executive of Prestasi Prima School",markers:[{id:"toField",position:{yaw:1.17,pitch:0},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Field",data:{targetScene:"scene1"}},{id:"toExcClass",position:{yaw:2.65,pitch:-.1},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive Class",data:{targetScene:"scene6"}},{id:"toCorridor",position:{yaw:-2.08,pitch:-.05},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Corridor",data:{targetScene:"scene4"}}]},{id:"scene6",panorama:"/360/v360-6.jpg",name:"Executive Class",description:"Executive Classroom of Prestasi Prima School",markers:[{id:"toExc",position:{yaw:1.74,pitch:-.16},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive",data:{targetScene:"scene5"}}]},{id:"scene7",panorama:"/360/v360-5.jpg",name:"PPLG Laboratory",description:"Executive Classroom of Prestasi Prima School",markers:[{id:"toExc",position:{yaw:1.74,pitch:-.16},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive",data:{targetScene:"scene5"}}]},{id:"scene8",panorama:"/360/v360-7.jpg",name:"BC Laboratory",description:"Executive Classroom of Prestasi Prima School",markers:[{id:"toExc",position:{yaw:1.74,pitch:-.16},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive",data:{targetScene:"scene5"}}]},{id:"scene9",panorama:"/360/v360-8.jpg",name:"Regular Class",description:"Regular Classroom of Prestasi Prima School",markers:[{id:"toExc",position:{yaw:1.74,pitch:-.16},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive",data:{targetScene:"scene5"}}]},{id:"scene10",panorama:"/360/v360-9.jpg",name:"Pathway",description:"C Pathway of Prestasi Prima School",markers:[{id:"toExc",position:{yaw:1.74,pitch:-.16},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive",data:{targetScene:"scene5"}}]},{id:"scene11",panorama:"/360/v360-11.jpg",name:"Library",description:"Library of Prestasi Prima School",markers:[{id:"toExc",position:{yaw:1.74,pitch:-.16},html:'<div class="select-none custom-marker">!</div>',tooltip:"To Executive",data:{targetScene:"scene5"}}]}];(0,i.useEffect)(()=>{let a=()=>{f(window.matchMedia("(max-width: 1024px)").matches)};if(a(),window.addEventListener("resize",a),!e.current)return()=>{window.removeEventListener("resize",a)};v.current=!1;let r=g.find(e=>"scene1"===e.id);if(!r)return()=>{window.removeEventListener("resize",a)};let o=setTimeout(()=>{if(!v.current&&e.current)try{let a=new n.jM({container:e.current,panorama:r.panorama,loadingImg:"",loadingTxt:"",plugins:[[c.b,{}],[l.Q,{autostartDelay:2e3,autorotateSpeed:"0.5rpm",autorotatePitch:0}]],navbar:["zoom","move","fullscreen"],defaultZoomLvl:50,minFov:30,maxFov:90});t.current=a,v.current=!0;let o=a.getPlugin(c.b);o&&o.addEventListener("select-marker",e=>{var t,a;(null==(a=e.marker)||null==(t=a.data)?void 0:t.targetScene)&&w(e.marker.data.targetScene)}),a.addEventListener("ready",()=>{j("scene1"),m(!1)})}catch(e){console.error("Error initializing viewer:",e),m(!1)}},100);return()=>{clearTimeout(o),t.current&&t.current.destroy(),t.current=null,v.current=!1,window.removeEventListener("resize",a)}},[]);let j=e=>{let a=t.current,r=g.find(t=>t.id===e);if(!a||!r)return;let o=a.getPlugin(c.b);o&&(o.clearMarkers(),r.markers.forEach(e=>o.addMarker(e)))},w=async e=>{let r=t.current,s=g.find(t=>t.id===e);if(!r||!s||a===e||p)return;b(!0);let i=r.getPlugin(l.Q);i&&x&&i.stop();try{await r.setPanorama(s.panorama),o(e),j(e),i&&x&&setTimeout(()=>i.start(),1e3)}catch(e){console.error(e)}finally{setTimeout(()=>b(!1),500)}},k=g.find(e=>e.id===a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6 "+"relative w-full bg-neutral-900 overflow-hidden select-none ".concat(h?"h-[calc(100vh-80px)] min-h-[480px]":"h-screen"),children:[(0,r.jsx)("div",{ref:e,className:"jsx-9656afb7c0b4b3e6 w-full h-full"}),d&&(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6 absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-[#1a0e00] via-[#2b1600] to-[#1a0e00] z-50",children:[(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6 relative mb-8",children:[(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 inline-block w-24 h-24 border-4 border-orange-500/20 rounded-full"}),(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 absolute top-0 left-0 inline-block w-24 h-24 border-4 border-transparent border-t-orange-500 rounded-full animate-spin"}),(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 absolute top-2 left-2 inline-block w-20 h-20 border-4 border-orange-700/30 rounded-full"}),(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-3 h-3 bg-orange-500 rounded-full animate-pulse"})]}),(0,r.jsx)("p",{className:"jsx-9656afb7c0b4b3e6 text-orange-400 text-xl font-semibold tracking-wide",children:"Memuat Tur Virtual..."}),(0,r.jsx)("p",{className:"jsx-9656afb7c0b4b3e6 text-orange-200 text-sm mt-1",children:"Menyiapkan tampilan 360\xb0"})]}),p&&(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 absolute inset-0 z-40 transition-opacity duration-300"}),!d&&k&&(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 "+"absolute ".concat(h?"top-4 left-1/2 -translate-x-1/2":"top-6 left-1/2 -translate-x-1/2"," z-30 pointer-events-none w-[calc(100%-2rem)] max-w-xl"),children:(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 "+"bg-gradient-to-r from-[#1a0e00]/90 to-[#2b1600]/80 backdrop-blur-lg text-white ".concat(h?"px-4 py-3 rounded-xl":"px-8 py-4 rounded-2xl"," shadow-2xl border border-orange-500/30"),children:(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6 flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6 relative",children:[(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 absolute inset-0 w-3 h-3 bg-orange-500 rounded-full animate-ping opacity-75"})]}),(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6",children:[(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 "+"font-bold ".concat(h?"text-sm":"text-base"," text-orange-400"),children:k.name}),(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 "+"text-orange-200 mt-0.5 ".concat(h?"text-[11px]":"text-xs"),children:k.description})]})]})})}),!d&&(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 "+"absolute z-30 ".concat(h?"bottom-4 right-4":"top-6 right-6"),children:(0,r.jsx)("button",{onClick:()=>{let e=t.current;if(!e)return;let a=e.getPlugin(l.Q);a&&(x?(a.stop(),u(!1)):(a.start(),u(!0)))},className:"jsx-9656afb7c0b4b3e6 "+"bg-black/70 backdrop-blur-md rounded-full p-3 shadow-lg transition-all duration-300 hover:bg-black/80 ".concat(x?"ring-2 ring-orange-500":""),children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9656afb7c0b4b3e6 "+"w-6 h-6 transition-all duration-300 ".concat(x?"text-orange-400 animate-spin-slow":"text-white/70"),children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",className:"jsx-9656afb7c0b4b3e6"})})})}),!d&&(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 "+"absolute z-30 ".concat(h?"left-1/2 -translate-x-1/2 bottom-4 w-[calc(100%-2rem)] max-w-md":"top-6 left-6"),children:(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6 "+"bg-gradient-to-br from-[#1a0e00]/90 to-[#2b1600]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-orange-500/30 ".concat(h?"p-4":"p-5"),children:[(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6 "+"flex items-center gap-2 ".concat(h?"mb-3":"mb-4"),children:[(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-9656afb7c0b4b3e6 "+"text-orange-400 ".concat(h?"w-3.5 h-3.5":"w-4 h-4"),children:(0,r.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z",className:"jsx-9656afb7c0b4b3e6"})}),(0,r.jsx)("h3",{className:"jsx-9656afb7c0b4b3e6 "+"text-orange-400 font-bold uppercase tracking-wider ".concat(h?"text-[10px]":"text-xs"),children:"Navigasi"})]}),h?(0,r.jsxs)("div",{className:"jsx-9656afb7c0b4b3e6 relative",children:[(0,r.jsx)("select",{value:a,onChange:e=>w(e.target.value),disabled:p,className:"jsx-9656afb7c0b4b3e6 w-full appearance-none bg-white/10 text-orange-100 border border-orange-500/20 rounded-xl px-4 py-3 text-sm font-medium backdrop-blur focus:outline-none focus:ring-2 focus:ring-orange-500",children:g.map(e=>(0,r.jsx)("option",{value:e.id,className:"jsx-9656afb7c0b4b3e6 bg-[#1a0e00] text-orange-100",children:e.name},e.id))}),(0,r.jsx)("span",{className:"jsx-9656afb7c0b4b3e6 pointer-events-none absolute inset-y-0 right-4 flex items-center text-orange-300",children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-9656afb7c0b4b3e6 w-4 h-4",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.648l3.71-3.417a.75.75 0 111.04 1.08l-4.24 3.904a.75.75 0 01-1.04 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd",className:"jsx-9656afb7c0b4b3e6"})})})]}):(0,r.jsx)("div",{className:"jsx-9656afb7c0b4b3e6 flex flex-col gap-2",children:g.map(e=>(0,r.jsx)("button",{onClick:()=>w(e.id),disabled:p,className:"jsx-9656afb7c0b4b3e6 "+"relative rounded-xl font-semibold transition-all duration-300 overflow-hidden cursor-pointer ".concat(a===e.id?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg":"bg-white/5 text-orange-200 hover:bg-orange-500/20 hover:text-orange-100"," px-5 py-3 text-sm w-50"),children:(0,r.jsxs)("span",{className:"jsx-9656afb7c0b4b3e6 flex items-center justify-between gap-2",children:[e.name,a===e.id&&(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-9656afb7c0b4b3e6 w-4 h-4",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd",className:"jsx-9656afb7c0b4b3e6"})})]})},e.id))})]})})]}),(0,r.jsx)(s(),{id:"9656afb7c0b4b3e6",children:".psv-loader,.psv-loader-text{display:none!important}@keyframes spin-slow{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.animate-spin-slow{animation:spin-slow 3s linear infinite}.custom-marker{width:50px!important;height:50px!important;background:linear-gradient(135deg,#FE4D01,#FF7F32)!important;border-radius:50%!important;color:white!important;font-size:24px!important;display:flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;box-shadow:0 10px 25px rgba(254,77,1,.4)!important;transition:all.3s ease!important;animation:pulse-marker 2s infinite!important}@keyframes pulse-marker{0%,100%{transform:scale(1);box-shadow:0 0 15px rgba(254,77,1,.4)}50%{transform:scale(1.1);box-shadow:0 0 30px rgba(255,127,50,.6)}}.info-marker{width:45px!important;height:45px!important;background:linear-gradient(135deg,#FFA928,#FE4D01)!important;border-radius:50%!important;color:white!important;font-size:22px!important;display:flex!important;align-items:center!important;justify-content:center!important;box-shadow:0 8px 25px rgba(255,150,0,.5)!important;transition:all.3s ease!important}.info-marker:hover{transform:scale(1.2)rotate(360deg)!important}.psv-container{background:#0a0500!important}.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}.no-scrollbar::-webkit-scrollbar{display:none}@media(max-width:768px){.custom-marker{width:38px!important;height:38px!important;font-size:18px!important;box-shadow:0 6px 20px rgba(254,77,1,.35)!important}.info-marker{width:32px!important;height:32px!important;font-size:16px!important;box-shadow:0 6px 18px rgba(255,150,0,.4)!important}}"})]})}a(32881),a(13023)}},e=>{e.O(0,[57,1831,7470,8276,1148,3144,8441,1255,7358],()=>e(e.s=3302)),_N_E=e.O()}]);