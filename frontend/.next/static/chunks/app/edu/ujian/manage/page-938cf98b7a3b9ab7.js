(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7527],{3899:(e,a,s)=>{Promise.resolve().then(s.bind(s,66720))},9540:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(71847).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},60230:(e,a,s)=>{"use strict";s.d(a,{A:()=>r,i:()=>n});var t=s(12115);let l=(0,t.createContext)({user:null,student:null,teacher:null,students:null,teachers:null,tugas:null,subjects:null,exams:null,nilai:null,schedules:null,rooms:null,classes:null}),n=()=>(0,t.useContext)(l),r=l},66720:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>g});var t=s(95155),l=s(12115),n=s(60230),r=s(88730),i=s(52619),d=s.n(i),u=s(20063),c=s(46826),o=s(35299),m=s(95125),x=s(1026);let h=e=>m.A.get(e).then(e=>e.data);function g(){let{user:e,student:a,exams:s}=(0,n.i)(),i=(0,u.useRouter)(),[m,g]=(0,l.useState)(""),{data:j,error:p,isLoading:b}=(0,x.Ay)("/api/exam",h,{refreshInterval:6e4}),f=(0,l.useMemo)(()=>(Array.isArray(null==j?void 0:j.data)?j.data:Array.isArray(j)?j:[]).map(e=>{var a,s;return{id:e.id,title:e.title,date:e.date,start_time:e.start_time,end_time:e.end_time,subject:null!=(a=e.subject)?a:null,class:null!=(s=e.class)?s:null}}),[j]),w=(0,l.useMemo)(()=>m?f.filter(e=>{var a,s,t,l,n,r;let i=m.toLowerCase();return e.title.toLowerCase().includes(i)||null!=(n=null==(s=e.subject)||null==(a=s.name)?void 0:a.toLowerCase().includes(i))&&n||null!=(r=null==(l=e.class)||null==(t=l.name)?void 0:t.toLowerCase().includes(i))&&r}):f,[f,m]);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)(r.A,{user:e,student:a}),(0,t.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-6 space-y-6",children:[(0,t.jsxs)("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Manajemen Ujian"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Buat, atur jadwal, dan kelola soal ujian untuk siswa."})]}),(0,t.jsxs)(d(),{href:"/edu/ujian/manage/new",className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-4 py-2 text-sm font-medium text-white shadow hover:bg-orange-400",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),"Tambah Ujian Baru"]})]}),(0,t.jsx)("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsx)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:(0,t.jsx)("input",{value:m,onChange:e=>g(e.target.value),placeholder:"Cari ujian berdasarkan judul, mapel, atau kelas",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200"})})}),(0,t.jsxs)("section",{className:"space-y-3",children:[b&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 rounded-2xl border border-gray-200 bg-white py-12 text-gray-500",children:[(0,t.jsx)(o.A,{className:"h-5 w-5 animate-spin"}),"Memuat daftar ujian..."]}),p&&(0,t.jsx)("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-600",children:"Gagal memuat daftar ujian. Silakan coba lagi nanti."}),!b&&!p&&0===w.length&&(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-gray-300 bg-white p-6 text-center text-gray-400",children:"Belum ada ujian yang dibuat."}),(0,t.jsx)("div",{className:"grid gap-3",children:w.map(e=>{var a,s,l,n;return(0,t.jsxs)("button",{onClick:()=>i.push("/edu/ujian/manage/".concat(e.id)),className:"flex w-full flex-col gap-3 rounded-2xl border border-gray-200 bg-white p-4 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-orange-500",children:[(0,t.jsx)("span",{children:null!=(l=null==(a=e.subject)?void 0:a.name)?l:"Mata Pelajaran"}),(0,t.jsx)("span",{className:"text-gray-300",children:"â€¢"}),(0,t.jsx)("span",{children:null!=(n=null==(s=e.class)?void 0:s.name)?n:"Kelas"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[(0,t.jsx)("span",{children:new Date(e.date).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}),(0,t.jsx)("span",{children:"|"}),(0,t.jsxs)("span",{children:[e.start_time," - ",e.end_time]})]})]})]},e.id)})})]})]})]})}},88730:(e,a,s)=>{"use strict";s.d(a,{A:()=>n});var t=s(95155),l=s(9540);function n(e){let{student:a,user:s,teacher:n}=e,r=window.location.pathname,i=(null==a?void 0:a.class.name)||"Tidak ada kelas",d=(null==s?void 0:s.role)||"guest",u=(null==n?void 0:n.specialization)||"Tidak ada mapel";return(0,t.jsxs)("section",{id:"header",className:"w-full flex items-center justify-between p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>{window.dispatchEvent(new CustomEvent("toggleSidebar"))},children:(0,t.jsx)(l.A,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:(()=>{switch(!0){case r.startsWith("/edu/dashboard"):return"Dashboard ".concat("admin"===d?"Admin":"guru"===d?"Guru":"Siswa");case r.startsWith("/edu/tugas"):return"Tugas Anda";case r.startsWith("/edu/ujian"):return"Ujian Anda";case r.startsWith("/edu/nilai"):return"Nilai Anda";case r.startsWith("/edu/jadwal"):return"Jadwal";case r.startsWith("/edu/setelan"):return"Setelan";case r.startsWith("/edu/perangkat"):return"Perangkat";case r.startsWith("/edu/rfid"):return"RFID Card";default:return""}})()}),(0,t.jsxs)("p",{className:"text-black/60 text-sm sm:text-base",children:["Selamat datang kembali, ",(null==s?void 0:s.name)||"Loading...","."]})]})]}),(0,t.jsx)("p",{className:"bg-emerald-200 text-emerald-800 px-3 py-2 text-xs sm:text-sm rounded-sm",children:(null==s?void 0:s.role)==="siswa"?i.replaceAll("-"," "):(null==s?void 0:s.role)==="guru"?u.replaceAll("-"," "):(null==s?void 0:s.role)==="admin"?"Administrator":"Tamu"})]})}s(12115)}},e=>{e.O(0,[2619,5125,788,8441,1255,7358],()=>e(e.s=3899)),_N_E=e.O()}]);