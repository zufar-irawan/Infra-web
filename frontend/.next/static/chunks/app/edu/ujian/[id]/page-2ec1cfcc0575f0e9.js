(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8132],{6132:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(71847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9540:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(71847).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},20063:(e,a,s)=>{"use strict";var t=s(47260);s.o(t,"redirect")&&s.d(a,{redirect:function(){return t.redirect}}),s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},26049:(e,a,s)=>{Promise.resolve().then(s.bind(s,71260))},26983:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},35299:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},47937:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(71847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},60230:(e,a,s)=>{"use strict";s.d(a,{A:()=>n,i:()=>r});var t=s(12115);let l=(0,t.createContext)({user:null,student:null,teacher:null,students:null,teachers:null,tugas:null,subjects:null,exams:null,nilai:null,schedules:null,rooms:null,classes:null}),r=()=>(0,t.useContext)(l),n=l},71260:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>w});var t=s(95155),l=s(12115),r=s(20063),n=s(95125),i=s(26983),d=s(47937),u=s(89715),c=s(35299),o=s(6132),m=s(88730),x=s(60230),h=s(52619),g=s.n(h);let p={answers:{},isSubmitting:!1,submitError:null,submitSuccess:!1};function b(e){var a,s,l;let{exam:r}=e,n="".concat(r.start_time),c="".concat(r.end_time);return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i.A,{className:"h-5 w-5 text-orange-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Tanggal"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800",children:new Date(r.date).toLocaleDateString("id-ID",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[n," - ",c]})]})]})}),(0,t.jsx)("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(d.A,{className:"h-5 w-5 text-indigo-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Mata Pelajaran"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800",children:null!=(l=null==(a=r.subject)?void 0:a.name)?l:"-"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:(null==(s=r.class)?void 0:s.name)?"Kelas ".concat(r.class.name):"Kelas tidak tersedia"})]})]})}),(0,t.jsx)("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 text-emerald-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Total Soal"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:r.questions?r.questions.length:"-"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:r.questions&&r.questions.length>0?"".concat(r.questions.filter(e=>"pg"===e.type).length," Pilihan Ganda • ").concat(r.questions.filter(e=>"essay"===e.type).length," Essay"):"Tidak ada soal."})]})]})})]})}function j(e){var a;let{question:s,value:l,onChange:r,disabled:n}=e;return(0,t.jsx)("div",{className:"rounded-xl border border-gray-200 bg-white p-5 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-orange-100 text-sm font-semibold text-orange-600",children:s.points}),(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800",children:s.question_text}),(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400",children:"pg"===s.type?"Pilihan Ganda":"Essay"})]}),"pg"===s.type?(0,t.jsx)("div",{className:"grid gap-2",children:null==(a=s.options)?void 0:a.map(e=>{let a="".concat(s.id,"-").concat(e.id);return(0,t.jsxs)("label",{className:"flex items-center gap-3 rounded-lg border px-3 py-2 text-sm transition ".concat(l===a?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-200"," ").concat(n?"opacity-70":"cursor-pointer"),children:[(0,t.jsx)("input",{type:"radio",name:"question-".concat(s.id),checked:l===a,onChange:()=>r(a),className:"h-4 w-4 text-orange-500",disabled:n}),(0,t.jsx)("span",{className:"text-gray-700",children:e.option_text}),n&&e.is_correct&&(0,t.jsx)("span",{className:"text-xs font-semibold text-emerald-600",children:"• Jawaban Benar"})]},a)})}):(0,t.jsx)("textarea",{rows:4,value:null!=l?l:"",onChange:e=>r(e.target.value),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200",placeholder:"Tuliskan jawabanmu di sini...",disabled:n})]})]})})}function f(e){let{result:a}=e;return(0,t.jsxs)("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 p-6 text-emerald-700",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Nilai Kamu"}),(0,t.jsx)("p",{className:"text-3xl font-bold mt-2",children:a.score}),a.grade&&(0,t.jsxs)("p",{className:"mt-1 text-sm font-medium",children:["Predikat: ",a.grade]}),a.feedback&&(0,t.jsxs)("p",{className:"mt-2 text-sm text-emerald-800",children:["Feedback: ",a.feedback]})]})}function y(e){let{onViewResult:a,hasResult:s}=e;return(0,t.jsxs)("div",{className:"flex flex-col gap-3 rounded-2xl border border-emerald-200 bg-emerald-50 p-5 text-emerald-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base font-semibold",children:"Ujian sudah dikumpulkan"}),(0,t.jsx)("p",{className:"text-sm text-emerald-800",children:s?"Nilai sudah tersedia. Kamu bisa membuka ringkasan nilai dan kunci jawaban.":"Jawabanmu tersimpan. Nilai sedang diproses oleh sistem."})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,t.jsxs)("button",{onClick:a,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-500 px-4 py-2 text-sm font-medium text-white shadow hover:bg-emerald-400",children:["Cek Nilai & Jawaban",(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 0 1 .75-.75h9.19l-3.47-3.47a.75.75 0 1 1 1.06-1.06l4.75 4.75a.75.75 0 0 1 0 1.06l-4.75 4.75a.75.75 0 0 1-1.06-1.06l3.47-3.47H3.75A.75.75 0 0 1 3 10Z",clipRule:"evenodd"})})]})})]})}function v(e){var a,s,l,r,n,i,d;let{question:u,studentAnswer:c}=e,o=null!=(l=null==(a=u.options)?void 0:a.find(e=>e.is_correct))?l:null,m="string"==typeof c&&c.length>0,x=null,h=null,g=null;if("pg"===u.type){let[,e]=m?c.split("-"):[],a=e?Number(e):null;a&&(x=null!=(n=null==(r=u.options)?void 0:r.find(e=>e.id===a))?n:null),x&&o?g=x.id===o.id:x&&!o&&(g=null)}else h=m?null!=c?c:"":null;return(0,t.jsx)("div",{className:"rounded-xl border border-gray-200 bg-white p-5 shadow-sm",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 text-sm font-semibold text-indigo-600",children:u.points}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800",children:u.question_text}),(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400",children:"pg"===u.type?"Pilihan Ganda":"Essay"})]})]}),"pg"===u.type?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs font-medium ".concat(null===g?"text-gray-500":g?"text-emerald-600":"text-red-600"),children:[(0,t.jsx)("span",{children:"Jawaban kamu:"}),(0,t.jsx)("span",{className:"rounded bg-gray-100 px-2 py-0.5 text-sm text-gray-700",children:null!=(i=null==x?void 0:x.option_text)?i:"Belum tersedia"}),!0===g&&(0,t.jsx)("span",{className:"rounded bg-emerald-100 px-2 py-0.5 text-emerald-700",children:"Benar"}),!1===g&&(0,t.jsx)("span",{className:"rounded bg-red-100 px-2 py-0.5 text-red-700",children:"Kurang Tepat"})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Kunci jawaban:",(0,t.jsx)("span",{className:"ml-1 font-semibold text-emerald-600",children:null!=(d=null==o?void 0:o.option_text)?d:"Belum ditentukan"})]}),(0,t.jsx)("div",{className:"space-y-1",children:null==(s=u.options)?void 0:s.map(e=>{let a=(null==x?void 0:x.id)===e.id,s=e.is_correct;return(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border px-3 py-2 text-sm ".concat(s?"border-emerald-200 bg-emerald-50 text-emerald-700":a?"border-orange-200 bg-orange-50 text-orange-700":"border-gray-200 text-gray-600"),children:[(0,t.jsx)("span",{children:e.option_text}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[s&&(0,t.jsx)("span",{className:"font-semibold",children:"Kunci"}),a&&!s&&(0,t.jsx)("span",{className:"font-medium",children:"Jawabanmu"})]})]},"".concat(u.id,"-").concat(e.id))})})]}):(0,t.jsx)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 text-sm text-gray-700",children:h&&h.trim().length>0?h:"Jawaban essay belum tersedia."})]})})}function w(){var e,a,s,i,d,u,h;let w=(0,r.useParams)(),N=(0,r.useRouter)(),k=null!=(i=(0,r.useSearchParams)().get("mode"))?i:"attempt",{user:A,student:S}=(0,x.i)(),{data:C,loading:M,error:_}=function(e){let[a,s]=(0,l.useState)(null),[t,r]=(0,l.useState)(!1),[i,d]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(!e)return;let a=!1;return r(!0),d(null),n.A.get("/api/exam/".concat(e)).then(e=>{var t;a||s(null!=(t=e.data)?t:null)}).catch(e=>{var s,t,l,r;if(a)return;let n=null!=(r=null!=(l=null==e||null==(t=e.response)||null==(s=t.data)?void 0:s.message)?l:null==e?void 0:e.message)?r:"Gagal memuat detail ujian.";d("string"==typeof n?n:"Gagal memuat detail ujian.")}).finally(()=>{a||r(!1)}),()=>{a=!0}},[e]),{data:a,loading:t,error:i,refresh:()=>s(e=>e?{...e}:e)}}(null==w?void 0:w.id),{questions:E,loading:P,error:q}=function(e){let[a,s]=(0,l.useState)([]),[t,r]=(0,l.useState)(!1),[i,d]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(!e)return;let a=!1;return r(!0),d(null),n.A.get("/api/exam-questions",{params:{exam_id:e}}).then(e=>{var t;a||s(Array.isArray(null==(t=e.data)?void 0:t.data)?e.data.data:[])}).catch(e=>{var s,t,l,r;if(a)return;let n=null!=(r=null!=(l=null==e||null==(t=e.response)||null==(s=t.data)?void 0:s.message)?l:null==e?void 0:e.message)?r:"Gagal memuat soal ujian.";d("string"==typeof n?n:"Gagal memuat soal ujian.")}).finally(()=>{a||r(!1)}),()=>{a=!0}},[e]),{questions:a,loading:t,error:i}}(null==C?void 0:C.id),G=(0,l.useMemo)(()=>{var e,a;return null!=(a=null!=(e=null==S?void 0:S.id)?e:null==S?void 0:S.student_id)?a:null},[S]),{results:R,loading:J,refresh:K}=function(e,a){let[s,t]=(0,l.useState)([]),[r,i]=(0,l.useState)(!1),[d,u]=(0,l.useState)(null),c=(0,l.useCallback)(async()=>{var s,l,r,d,c;if(e&&a){i(!0),u(null);try{let l=await n.A.get("/api/exam-results",{params:{exam_id:e,student_id:a}}),r=Array.isArray(null==(s=l.data)?void 0:s.data)?l.data.data:[];t(r)}catch(a){let e=null!=(c=null!=(d=null==a||null==(r=a.response)||null==(l=r.data)?void 0:l.message)?d:null==a?void 0:a.message)?c:"Gagal memuat hasil ujian.";u("string"==typeof e?e:"Gagal memuat hasil ujian.")}finally{i(!1)}}},[e,a]);return(0,l.useEffect)(()=>{if(!e||!a)return void t([]);let s=!1;return i(!0),u(null),n.A.get("/api/exam-results",{params:{exam_id:e,student_id:a}}).then(e=>{var a;s||t(Array.isArray(null==(a=e.data)?void 0:a.data)?e.data.data:[])}).catch(e=>{var a,t,l,r;if(s)return;let n=null!=(r=null!=(l=null==e||null==(t=e.response)||null==(a=t.data)?void 0:a.message)?l:null==e?void 0:e.message)?r:"Gagal memuat hasil ujian.";u("string"==typeof n?n:"Gagal memuat hasil ujian.")}).finally(()=>{s||i(!1)}),()=>{s=!0}},[e,a]),{results:s,loading:r,error:d,refresh:c}}(null==C?void 0:C.id,null!=G?G:void 0),[W,B]=(0,l.useState)({}),T=(0,l.useMemo)(()=>G&&(null==C?void 0:C.id)?"exam-answers-".concat(G,"-").concat(C.id):null,[G,null==C?void 0:C.id]),L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,[a,s]=(0,l.useState)(e);return{...a,setAnswer:(e,a)=>{s(s=>({...s,answers:{...s.answers,[e]:a}}))},resetAttempt:()=>s(p),setSubmitting:e=>s(a=>({...a,isSubmitting:e})),setSubmitError:e=>s(a=>({...a,submitError:e})),setSubmitSuccess:e=>s(a=>({...a,submitSuccess:e}))}}(p);(0,l.useEffect)(()=>{C&&C.questions&&L.resetAttempt()},[null==C?void 0:C.id]),(0,l.useEffect)(()=>{if(!T)return void B({});try{let e=window.localStorage.getItem(T);if(e){let a=JSON.parse(e);a&&"object"==typeof a&&B(a)}}catch(e){console.warn("Gagal memuat jawaban ujian dari penyimpanan lokal",e)}},[T]);let z=(0,l.useMemo)(()=>Object.keys(W).length>0?W:L.answers,[W,L.answers]),O="hasil"===k,D=(null==A?void 0:A.role)==="siswa",H=A&&["teacher","admin"].includes(A.role),U=(0,l.useMemo)(()=>{var e;return null!=(e=R[0])?e:null},[R]),I=async()=>{if(C&&G){L.setSubmitting(!0),L.setSubmitError(null);try{let{score:e}=function(e,a){let s=0,t=0;e.forEach(e=>{var l,r;if(s+=e.points,"pg"===e.type){let s=a[e.id];if(!s)return;let[,r]=s.split("-").map(Number),n=null==(l=e.options)?void 0:l.find(e=>e.is_correct);n&&n.id===r&&(t+=e.points)}else(null!=(r=a[e.id])?r:"").trim().length>0&&(t+=Math.round(.6*e.points))});let l=0===s?0:Math.round(t/s*100);return{totalPoints:s,earnedPoints:t,score:l}}(E,L.answers);if(await n.A.post("/api/exam-results",{exam_id:C.id,student_id:G,score:e,feedback:"Jawaban kamu sudah direkam."}),T&&1)try{window.localStorage.setItem(T,JSON.stringify(L.answers)),B(L.answers)}catch(e){console.warn("Tidak dapat menyimpan jawaban ujian secara lokal",e)}await K(),L.setSubmitSuccess(!0)}catch(r){var e,a,s,t;let l=null!=(t=null!=(s=null==r||null==(a=r.response)||null==(e=a.data)?void 0:e.message)?s:null==r?void 0:r.message)?t:"Gagal mengirim jawaban.";L.setSubmitError("string"==typeof l?l:"Gagal mengirim jawaban.")}finally{L.setSubmitting(!1)}}},V=()=>{N.push("/edu/ujian")},Z=(0,l.useCallback)(()=>{N.push("/edu/ujian/".concat(null==w?void 0:w.id,"?mode=hasil"))},[null==w?void 0:w.id,N]),F=(0,l.useCallback)(()=>{N.push("/edu/ujian/".concat(null==w?void 0:w.id))},[null==w?void 0:w.id,N]),$=D&&!U&&!O;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)(m.A,{user:A,student:S}),(0,t.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-6 space-y-6",children:[(0,t.jsxs)("button",{onClick:V,className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-4 w-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),"Kembali ke daftar ujian"]}),M&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 rounded-2xl border border-gray-200 bg-white py-12 text-gray-500",children:[(0,t.jsx)(c.A,{className:"h-5 w-5 animate-spin"}),"Memuat detail ujian..."]}),_&&(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-600",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),_]}),C&&(0,t.jsxs)("section",{className:"space-y-4",children:[(0,t.jsx)("header",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-wide text-orange-500",children:[(0,t.jsx)("span",{children:null!=(d=null==(e=C.subject)?void 0:e.name)?d:"Mata pelajaran"}),(0,t.jsx)("span",{className:"text-gray-300",children:"•"}),(0,t.jsx)("span",{children:null!=(u=null==(a=C.class)?void 0:a.name)?u:"Kelas"}),(null==(s=C.room)?void 0:s.name)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-300",children:"•"}),(0,t.jsxs)("span",{children:["Ruangan ",C.room.name]})]})]}),(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:C.title}),C.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 max-w-3xl",children:C.description})]})}),(0,t.jsx)(b,{exam:{...C,questions:E}}),D&&U&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(f,{result:U}),!O&&(0,t.jsx)(y,{onViewResult:Z,hasResult:!0})]}),D&&!U&&L.submitSuccess&&!O&&(0,t.jsx)(y,{onViewResult:Z,hasResult:!1}),D&&!U&&!L.submitSuccess&&!O&&(0,t.jsxs)("div",{className:"rounded-2xl border border-sky-200 bg-sky-50 p-4 text-sky-700",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Petunjuk pengerjaan"}),(0,t.jsxs)("ul",{className:"mt-2 list-disc pl-5 text-xs text-sky-800 space-y-1",children:[(0,t.jsx)("li",{children:"Pilih jawaban yang paling tepat untuk setiap soal pilihan ganda."}),(0,t.jsx)("li",{children:"Jawaban essay minimal 2 kalimat untuk mendapatkan nilai maksimal."}),(0,t.jsx)("li",{children:"Pastikan semua jawaban terisi sebelum menekan tombol Kirim."}),(0,t.jsx)("li",{children:"Nilai dihitung otomatis, namun guru dapat melakukan penyesuaian."})]})]})]}),(0,t.jsxs)("section",{className:"space-y-4",children:[P&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 rounded-2xl border border-gray-200 bg-white py-12 text-gray-500",children:[(0,t.jsx)(c.A,{className:"h-5 w-5 animate-spin"}),"Memuat soal..."]}),q&&(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-600",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),q]}),!P&&0===E.length&&(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-gray-300 bg-white p-6 text-center text-gray-400",children:"Belum ada soal untuk ujian ini."}),O&&(0,t.jsxs)("div",{className:"flex flex-col gap-3 rounded-2xl border border-emerald-100 bg-emerald-50 p-4 text-sm text-emerald-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Ringkasan hasil"}),(0,t.jsx)("p",{className:"text-xs text-emerald-800",children:"Berikut kunci jawaban untuk soal pilihan ganda dan jawaban yang kamu isi."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:F,className:"inline-flex items-center gap-2 rounded-lg border border-emerald-200 px-3 py-2 text-xs font-medium text-emerald-700 hover:bg-emerald-100",children:"Kembali ke ringkasan ujian"}),J&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-lg bg-emerald-100 px-3 py-1 text-xs text-emerald-700",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 animate-spin"}),"Memuat nilai terbaru..."]}),D&&!U&&(0,t.jsx)("span",{className:"text-xs text-emerald-800",children:"Nilai belum tersedia. Coba periksa kembali beberapa saat lagi."})]})]}),E.map(e=>O?(0,t.jsx)(v,{question:e,studentAnswer:z[e.id]},e.id):(0,t.jsx)(j,{question:e,value:L.answers[e.id],onChange:a=>L.setAnswer(e.id,a),disabled:!$},e.id))]}),D&&!O&&(0,t.jsx)("footer",{className:"sticky bottom-0 left-0 right-0 border-t border-gray-200 bg-white/90 backdrop-blur py-4",children:(0,t.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-3 px-4 sm:flex-row sm:items-center sm:justify-between",children:[L.submitError&&(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-red-100 px-3 py-2 text-xs text-red-600",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),L.submitError]}),(0,t.jsxs)("div",{className:"flex w-full justify-end gap-2",children:[(0,t.jsx)("button",{onClick:V,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50",children:"Batal"}),(0,t.jsxs)("button",{onClick:I,disabled:!$||L.isSubmitting,className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-4 py-2 text-sm font-medium text-white shadow transition hover:bg-orange-400 disabled:cursor-not-allowed disabled:opacity-60",children:[L.isSubmitting&&(0,t.jsx)(c.A,{className:"h-4 w-4 animate-spin"}),U?"Sudah dinilai":"Kirim Jawaban"]})]})]})}),H&&(0,t.jsxs)("aside",{className:"rounded-2xl border border-indigo-200 bg-indigo-50 p-6 text-indigo-600",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold",children:"Mode Guru/Admin"}),(0,t.jsx)("p",{className:"mt-1 text-xs",children:"Pengelolaan detail soal dan koreksi manual akan tersedia di halaman manajemen ujian."}),(0,t.jsx)(g(),{href:"/edu/ujian/manage/".concat(null!=(h=null==C?void 0:C.id)?h:""),className:"mt-3 inline-flex items-center gap-2 rounded-lg border border-indigo-300 px-3 py-2 text-xs font-medium text-indigo-600 hover:bg-indigo-100",children:"Buka Manajemen Ujian"})]})]})]})}},71847:(e,a,s)=>{"use strict";s.d(a,{A:()=>d});var t=s(12115);let l=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,s)=>s?s.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},r=function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,a)=>{let{color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:u="",children:c,iconNode:o,...m}=e;return(0,t.createElement)("svg",{ref:a,...n,width:l,height:l,stroke:s,strokeWidth:d?24*Number(i)/Number(l):i,className:r("lucide",u),...!c&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(m)&&{"aria-hidden":"true"},...m},[...o.map(e=>{let[a,s]=e;return(0,t.createElement)(a,s)}),...Array.isArray(c)?c:[c]])}),d=(e,a)=>{let s=(0,t.forwardRef)((s,n)=>{let{className:d,...u}=s;return(0,t.createElement)(i,{ref:n,iconNode:a,className:r("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...u})});return s.displayName=l(e),s}},88730:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});var t=s(95155),l=s(9540);function r(e){let{student:a,user:s,teacher:r}=e,n=window.location.pathname,i=(null==a?void 0:a.class.name)||"Tidak ada kelas",d=(null==s?void 0:s.role)||"guest",u=(null==r?void 0:r.specialization)||"Tidak ada mapel";return(0,t.jsxs)("section",{id:"header",className:"w-full flex items-center justify-between p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>{window.dispatchEvent(new CustomEvent("toggleSidebar"))},children:(0,t.jsx)(l.A,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:(()=>{switch(!0){case n.startsWith("/edu/dashboard"):return"Dashboard ".concat("admin"===d?"Admin":"guru"===d?"Guru":"Siswa");case n.startsWith("/edu/tugas"):return"Tugas Anda";case n.startsWith("/edu/ujian"):return"Ujian Anda";case n.startsWith("/edu/nilai"):return"Nilai Anda";case n.startsWith("/edu/jadwal"):return"Jadwal";case n.startsWith("/edu/setelan"):return"Setelan";case n.startsWith("/edu/perangkat"):return"Perangkat";case n.startsWith("/edu/rfid"):return"RFID Card";default:return""}})()}),(0,t.jsxs)("p",{className:"text-black/60 text-sm sm:text-base",children:["Selamat datang kembali, ",(null==s?void 0:s.name)||"Loading...","."]})]})]}),(0,t.jsx)("p",{className:"bg-emerald-200 text-emerald-800 px-3 py-2 text-xs sm:text-sm rounded-sm",children:(null==s?void 0:s.role)==="siswa"?i.replaceAll("-"," "):(null==s?void 0:s.role)==="guru"?u.replaceAll("-"," "):(null==s?void 0:s.role)==="admin"?"Administrator":"Tamu"})]})}s(12115)},89715:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(71847).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[2619,5125,8441,1255,7358],()=>e(e.s=26049)),_N_E=e.O()}]);