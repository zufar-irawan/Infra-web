(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9748],{6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18514:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},71360:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},71847:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(12115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:a,strokeWidth:d?24*Number(l)/Number(r):l,className:n("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{className:d,...o}=a;return(0,s.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...o})});return a.displayName=r(e),a}},75839:(e,t,a)=>{Promise.resolve().then(a.bind(a,89767))},83011:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return r}});let s=a(12115);function r(e,t){let a=(0,s.useRef)(null),r=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=a.current;e&&(a.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(a.current=n(e,s)),t&&(r.current=n(t,s))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let a=e(t);return"function"==typeof a?a:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},89767:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(95155),r=a(12115),n=a(15239),i=a(68407),l=a.n(i),d=a(6191),o=a(18514),c=a(71360);let u="https://api.smkprestasiprima.sch.id/api";function m(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)({}),[m,h]=(0,r.useState)(null),[p,x]=(0,r.useState)(!1),f=async()=>{try{let e=await fetch("".concat(u,"/testimoni"),{cache:"no-store"}),a=await e.json();a.success&&t(a.data)}catch(e){console.error("Gagal memuat testimoni:",e),l().fire("Gagal","Tidak bisa memuat data testimoni","error")}};(0,r.useEffect)(()=>{f()},[]);let g=(e,t)=>{var s;let r=null==(s=e.target.files)?void 0:s[0];if(r){if(!r.name.endsWith(".webp"))return void l().fire("Format Salah","Gunakan gambar .webp","warning");"id"===t?i({...a,photo_id:r}):i({...a,photo_en:r})}},j=async()=>{if(!a.name||!a.major_id||!a.major_en||!a.message_id||!a.message_en)return void l().fire("Lengkapi Data","Semua field wajib diisi!","warning");let e=new FormData;e.append("name",a.name),e.append("major_id",a.major_id),e.append("major_en",a.major_en),e.append("message_id",a.message_id),e.append("message_en",a.message_en),a.photo_id instanceof File&&e.append("photo_id",a.photo_id),a.photo_en instanceof File&&e.append("photo_en",a.photo_en);try{let t=m?"".concat(u,"/testimoni/").concat(m):"".concat(u,"/testimoni");await fetch(t,{method:"POST",body:e}),l().fire("Berhasil!",m?"Testimoni berhasil diperbarui.":"Testimoni berhasil ditambahkan.","success"),i({}),h(null),x(!1),f()}catch(e){console.error("Gagal menyimpan:",e),l().fire("Gagal","Tidak bisa menyimpan data testimoni","error")}},b=async e=>{if((await l().fire({title:"Hapus Data?",text:"Data tidak dapat dikembalikan setelah dihapus.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#FE4D01",cancelButtonColor:"#243771",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"})).isConfirmed)try{await fetch("".concat(u,"/testimoni/").concat(e),{method:"DELETE"}),l().fire("Terhapus!","Data testimoni telah dihapus.","success"),f()}catch(e){l().fire("Gagal","Tidak dapat menghapus testimoni.","error")}};return(0,s.jsxs)("div",{className:"space-y-8 animate-fadeIn",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-[#243771]",children:"\uD83D\uDCAC Manajemen Testimoni"}),(0,s.jsxs)("button",{onClick:()=>{i({}),h(null),x(!0)},className:"flex items-center gap-2 bg-[#FE4D01] text-white px-4 py-2 rounded-lg hover:bg-[#fe5d20] transition",children:[(0,s.jsx)(d.A,{size:18})," Tambah Testimoni"]})]}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-md overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-[#243771] text-white",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3",children:"#"}),(0,s.jsx)("th",{className:"p-3",children:"Nama"}),(0,s.jsx)("th",{className:"p-3",children:"Jurusan (ID)"}),(0,s.jsx)("th",{className:"p-3",children:"Jurusan (EN)"}),(0,s.jsx)("th",{className:"p-3",children:"Pesan (ID)"}),(0,s.jsx)("th",{className:"p-3",children:"Pesan (EN)"}),(0,s.jsx)("th",{className:"p-3",children:"Foto (ID)"}),(0,s.jsx)("th",{className:"p-3",children:"Foto (EN)"}),(0,s.jsx)("th",{className:"p-3 text-center",children:"Aksi"})]})}),(0,s.jsx)("tbody",{children:e.length>0?e.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"p-3",children:t+1}),(0,s.jsx)("td",{className:"p-3 font-semibold",children:e.name}),(0,s.jsx)("td",{className:"p-3",children:e.major_id}),(0,s.jsx)("td",{className:"p-3",children:e.major_en}),(0,s.jsx)("td",{className:"p-3 max-w-[200px] truncate",children:e.message_id}),(0,s.jsx)("td",{className:"p-3 max-w-[200px] truncate",children:e.message_en}),(0,s.jsx)("td",{className:"p-3 text-center",children:e.photo_id?(0,s.jsx)(n.default,{src:e.photo_id,alt:"Foto ID",width:60,height:60,className:"rounded-md border object-cover mx-auto"}):"-"}),(0,s.jsx)("td",{className:"p-3 text-center",children:e.photo_en?(0,s.jsx)(n.default,{src:e.photo_en,alt:"Foto EN",width:60,height:60,className:"rounded-md border object-cover mx-auto"}):"-"}),(0,s.jsxs)("td",{className:"p-3 flex justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{h(e.id),i(e),x(!0)},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:(0,s.jsx)(o.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>b(e.id),className:"p-2 bg-red-500 text-white rounded hover:bg-red-600",children:(0,s.jsx)(c.A,{size:16})})]})]},e.id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:9,className:"text-center py-6 text-gray-500 italic",children:"Belum ada data testimoni."})})})]})}),p&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-[95%] max-w-lg shadow-xl",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-[#243771] mb-4",children:m?"Edit Testimoni":"Tambah Testimoni"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Nama",className:"border p-2 w-full rounded",value:a.name||"",onChange:e=>i({...a,name:e.target.value})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)("input",{type:"text",placeholder:"Jurusan (ID)",className:"border p-2 rounded",value:a.major_id||"",onChange:e=>i({...a,major_id:e.target.value})}),(0,s.jsx)("input",{type:"text",placeholder:"Jurusan (EN)",className:"border p-2 rounded",value:a.major_en||"",onChange:e=>i({...a,major_en:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)("textarea",{placeholder:"Pesan (ID)",className:"border p-2 rounded h-24",value:a.message_id||"",onChange:e=>i({...a,message_id:e.target.value})}),(0,s.jsx)("textarea",{placeholder:"Pesan (EN)",className:"border p-2 rounded h-24",value:a.message_en||"",onChange:e=>i({...a,message_en:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)("input",{type:"file",accept:".webp",onChange:e=>g(e,"id")}),(0,s.jsx)("input",{type:"file",accept:".webp",onChange:e=>g(e,"en")})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 border rounded-lg text-gray-600 hover:bg-gray-100",children:"Batal"}),(0,s.jsx)("button",{onClick:j,className:"px-4 py-2 bg-[#FE4D01] text-white rounded-lg hover:bg-[#fe5d20]",children:"Simpan"})]})]})})]})}}},e=>{e.O(0,[8320,5239,8441,1255,7358],()=>e(e.s=75839)),_N_E=e.O()}]);