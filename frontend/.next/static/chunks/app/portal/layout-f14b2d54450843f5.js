(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58],{9540:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},20063:(e,t,r)=>{"use strict";var a=r(47260);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},65229:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:c,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:l?24*Number(o)/Number(s):o,className:n("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:l,...d}=r;return(0,a.createElement)(o,{ref:i,iconNode:t,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...d})});return r.displayName=s(e),r}},77676:(e,t,r)=>{Promise.resolve().then(r.bind(r,90431))},84926:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},90431:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var a=r(95155),s=r(20063),n=r(12115),i=r(52619),o=r.n(i),l=r(9540),d=r(65229),c=r(84926);function u(e){let{isMobile:t}=e,[r,i]=(0,n.useState)(!1),u=(0,s.usePathname)(),h=(0,n.useRef)(null),m=async()=>{try{await fetch("/api/portal/logout",{method:"POST",headers:{"Content-Type":"application/json"}}),"undefined"!=typeof document&&document.body.classList.add("opacity-50"),sessionStorage.clear(),setTimeout(()=>{window.location.href="/portal"},300)}catch(e){console.error("Logout error:",e),window.location.href="/portal"}};return(0,n.useEffect)(()=>{let e=e=>{t&&r&&h.current&&!h.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r,t]),(0,n.useEffect)(()=>{t&&(document.body.style.overflow=r?"hidden":"auto")},[r,t]),(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)("button",{onClick:()=>i(!0),className:"fixed top-4 left-4 z-50 p-2 bg-[#1e2b63] text-white rounded-md shadow-md hover:bg-[#243771] transition",children:(0,a.jsx)(l.A,{size:20})}),(0,a.jsx)("aside",{ref:h,className:"fixed top-0 left-0 z-40 h-full lg:w-64 transform transition-transform duration-300\n        ".concat(r?"translate-x-0":"-translate-x-full"," \n        lg:translate-x-0 bg-[#1e2b63] border-r border-[#141c44]"),children:(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[#141c44] bg-[#1a2554]",children:[(0,a.jsxs)("h1",{className:"font-semibold text-lg text-white tracking-wide",children:["SMK ",(0,a.jsx)("span",{className:"text-[#FE4D01]",children:"Admin"})]}),t&&(0,a.jsx)("button",{onClick:()=>i(!1),className:"text-white hover:text-[#FE4D01] transition",children:(0,a.jsx)(d.A,{size:22})})]}),(0,a.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 py-5 space-y-1",children:[{name:"Dashboard",href:"/portal/dashboard"},{name:"Fasilitas",href:"/portal/fasilitas"},{name:"Prestasi",href:"/portal/prestasi"},{name:"Berita",href:"/portal/news"},{name:"Mitra",href:"/portal/mitra"},{name:"Kegiatan",href:"/portal/kegiatan"},{name:"FAQ",href:"/portal/faq"}].map(e=>{let r=u.startsWith(e.href);return(0,a.jsx)(o(),{href:e.href,onClick:()=>t&&i(!1),className:"block px-4 py-2.5 text-sm font-medium tracking-wide rounded-md transition-all duration-150\n                    ".concat(r?"bg-[#FE4D01] text-white shadow-sm":"text-gray-300 hover:bg-[#2b377a] hover:text-white"),children:e.name},e.href)})}),(0,a.jsxs)("div",{className:"border-t border-[#141c44] px-4 py-5",children:[(0,a.jsxs)("button",{onClick:m,className:"flex items-center justify-center gap-2 w-full py-2.5 rounded-md font-semibold text-sm text-white bg-[#FE4D01] hover:bg-[#ff6a33] transition",children:[(0,a.jsx)(c.A,{size:18}),"Logout"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 text-center mt-4",children:["\xa9 ",new Date().getFullYear()," SMK Prestasi Prima"]})]})]})}),t&&r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:()=>i(!1)})]})}function h(e){let{token:t,children:r}=e,i=(0,s.usePathname)(),o="/portal"===i||i.startsWith("/portal/verify"),[l,d]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let e=()=>d(window.innerWidth<1024);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),o)?(0,a.jsx)(a.Fragment,{children:r}):(0,a.jsxs)("div",{className:"flex min-h-screen bg-[#f4f6fb] text-gray-800 overflow-hidden",children:[(0,a.jsx)(u,{isMobile:l}),(0,a.jsx)("main",{className:"flex-1 min-h-screen transition-all duration-300 ".concat(l?"":"lg:ml-64"),children:(0,a.jsx)("div",{className:"p-3 sm:p-6 md:p-8",children:r})})]})}}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=77676)),_N_E=e.O()}]);