(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5993],{12932:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(95155),i=r(12115);let n=(0,r(71847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var s=r(35299),o=r(20063),l=r(68407),c=r.n(l),u=r(30722),d=r.n(u),m=r(66348);let f=d()(c());function h(){let[e,t]=(0,i.useState)(""),[r,l]=(0,i.useState)(!1),c=(0,o.useRouter)(),u=async t=>{if(t.preventDefault(),!e.trim())return void f.fire({icon:"warning",title:"Email belum diisi!",text:"Masukkan alamat email terdaftar sebelum melanjutkan.",confirmButtonColor:"#FE4D01",background:"#1e2b63",color:"#fff"});l(!0);try{let t=await m.A.post("/auth/request-code",{email:e});t.data.success?f.fire({icon:"success",title:"Kode Verifikasi Dikirim!",html:'<p class="text-sm text-gray-200">Kode dikirim ke <b>'.concat(e,"</b>.</p>"),confirmButtonText:"Verifikasi Sekarang",confirmButtonColor:"#FE4D01",background:"#1e2b63",color:"#fff"}).then(()=>{c.push("/portal/verify?email=".concat(encodeURIComponent(e)))}):f.fire({icon:"error",title:"Gagal Mengirim!",text:t.data.message||"Terjadi kesalahan.",confirmButtonColor:"#FE4D01",background:"#1e2b63",color:"#fff"})}catch(e){var r,a;f.fire({icon:"error",title:"Server Error",text:(null==(a=e.response)||null==(r=a.data)?void 0:r.message)||"Pastikan server backend berjalan.",confirmButtonColor:"#FE4D01",background:"#1e2b63",color:"#fff"})}finally{l(!1)}};return(0,a.jsxs)("main",{className:"min-h-screen flex items-center justify-center bg-[#243771] relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#243771] via-[#1e2b63] to-[#111b45]"}),(0,a.jsx)("div",{className:"absolute w-[400px] h-[400px] bg-[#FE4D01]/20 rounded-full blur-[120px] -top-20 -left-20"}),(0,a.jsx)("div",{className:"absolute w-[300px] h-[300px] bg-[#FE4D01]/10 rounded-full blur-[100px] bottom-0 right-0"}),(0,a.jsxs)("div",{className:"relative z-10 bg-white/10 backdrop-blur-xl border border-white/10 rounded-2xl p-8 sm:p-10 w-[90%] max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("img",{src:"/webp/smk.webp",alt:"SMK Prestasi Prima",className:"w-20 h-20 mx-auto mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-1",children:"Login Portal Admin"}),(0,a.jsx)("p",{className:"text-white/70 text-sm",children:"Masukkan email terdaftar untuk menerima kode verifikasi."})]}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-white/90 mb-1",children:"Alamat Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/60"}),(0,a.jsx)("input",{type:"email",id:"email",placeholder:"contoh@smkpp.sch.id",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#FE4D01]"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg bg-gradient-to-r from-[#FE4D01] to-[#FE7A32] text-white font-semibold hover:scale-[1.02] transition-all disabled:opacity-60",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{size:18,className:"animate-spin"})," Mengirim..."]}):"Kirim Kode Verifikasi"})]}),(0,a.jsxs)("p",{className:"text-xs text-center text-white/50 mt-8",children:["\xa9 ",new Date().getFullYear()," SMK Prestasi Prima â€¢ Secure Portal"]})]})]})}},20063:(e,t,r)=>{"use strict";var a=r(47260);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},30722:function(e,t,r){e.exports=function(e,t){"use strict";let r=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],a=()=>{};return function(i){function n(t){let a={},i={},n=r.map(e=>e.key);return Object.entries(t).forEach(t=>{let[r,s]=t;n.includes(r)&&e.isValidElement(s)?(a[r]=s,i[r]=" "):i[r]=s}),[a,i]}function s(e,a){Object.entries(a).forEach(a=>{let[n,s]=a,o=r.find(e=>e.key===n).getter(i),l=t.createRoot(o);l.render(s),e.__roots.push(l)})}function o(e){e.__roots.forEach(e=>{e.unmount()}),e.__roots=[]}return class extends i{static argsToParams(t){if(!(e.isValidElement(t[0])||e.isValidElement(t[1])))return i.argsToParams(t);{let e={};return["title","html","icon"].forEach((r,a)=>{void 0!==t[a]&&(e[r]=t[a])}),e}}_main(e,t){this.__roots=[],this.__params=Object.assign({},t,e);let[r,i]=n(this.__params),l=i.willOpen||a,c=i.didOpen||a,u=i.didDestroy||a;return super._main(Object.assign({},i,{willOpen:e=>{s(this,r),l(e)},didOpen:e=>{setTimeout(()=>{c(e)})},didDestroy:e=>{u(e),o(this)}}))}update(e){Object.assign(this.__params,e),o(this);let[t,r]=n(this.__params);super.update(r),s(this,t)}}}}(r(12115),r(12669))},35299:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},63975:(e,t,r)=>{Promise.resolve().then(r.bind(r,12932))},66348:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(95125),i=r(72378);let n=a.A.create({baseURL:"https://api.smkprestasiprima.sch.id/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=i.A.get("portal-auth-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let s=n},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(12115);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d,...m}=e;return(0,a.createElement)("svg",{ref:t,...s,width:i,height:i,stroke:r,strokeWidth:l?24*Number(o)/Number(i):o,className:n("lucide",c),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:l,...c}=r;return(0,a.createElement)(o,{ref:s,iconNode:t,className:n("lucide-".concat(i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...c})});return r.displayName=i(e),r}},72378:(e,t,r)=>{"use strict";function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}r.d(t,{A:()=>i});var i=function e(t,r){function i(e,i,n){if("undefined"!=typeof document){"number"==typeof(n=a({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in n)n[o]&&(s+="; "+o,!0!==n[o]&&(s+="="+n[o].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],a={},i=0;i<r.length;i++){var n=r[i].split("="),s=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(a[o]=t.read(s,o),e===o)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){i(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},e=>{e.O(0,[8320,5125,8441,1255,7358],()=>e(e.s=63975)),_N_E=e.O()}]);