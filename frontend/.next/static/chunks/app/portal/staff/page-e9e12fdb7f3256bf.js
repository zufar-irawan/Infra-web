(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9776],{6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18514:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},20403:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(95155),s=a(12115),n=a(68407),l=a.n(n),i=a(95125),d=a(6191),c=a(18514),o=a(71360),m=a(65229);let u="https://api.smkprestasiprima.sch.id/api";function h(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)({img_id:null,img_en:null}),[h,x]=(0,s.useState)(null),[p,f]=(0,s.useState)(!1),g=(0,s.useRef)(null),b=async()=>{try{let e=await i.A.get("".concat(u,"/management"));e.data.success&&t(e.data.data)}catch(e){console.error("Gagal memuat data staff:",e),l().fire("Gagal","Tidak bisa memuat data staff","error")}};(0,s.useEffect)(()=>{b()},[]);let j=(e,t)=>{var a;let r=null==(a=e.target.files)?void 0:a[0];if(r){if(!r.name.endsWith(".webp"))return void l().fire("Format Salah","Gunakan gambar berformat .webp","warning");n(e=>({...e,["id"===t?"img_id":"img_en"]:r}))}},w=async()=>{if(!a.img_id||!a.img_en)return void l().fire("Lengkapi Data","Upload gambar untuk kedua bahasa!","warning");let e=new FormData;e.append("img_id",a.img_id),e.append("img_en",a.img_en);try{let t=h?"".concat(u,"/management/").concat(h):"".concat(u,"/management");await i.A.post(t,e,{headers:{"Content-Type":"multipart/form-data"}}),l().fire("Berhasil!",h?"Data staff diperbarui.":"Data staff ditambahkan.","success"),n({img_id:null,img_en:null}),x(null),f(!1),b()}catch(e){var t,r;console.error("Gagal menyimpan data:",e),l().fire("Gagal",(null==(r=e.response)||null==(t=r.data)?void 0:t.message)||"Upload gagal","error")}},y=async e=>{if((await l().fire({title:"Hapus Staff?",text:"Data tidak dapat dikembalikan setelah dihapus.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#FE4D01",cancelButtonColor:"#243771",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"})).isConfirmed)try{await i.A.delete("".concat(u,"/management/").concat(e)),l().fire("Terhapus!","Data staff berhasil dihapus.","success"),b()}catch(e){l().fire("Gagal","Tidak dapat menghapus staff.","error")}};return(0,s.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&f(!1)},t=e=>"Escape"===e.key&&f(!1);return p&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[p]),(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)("div",{className:"w-full flex justify-center",children:(0,r.jsxs)("div",{className:"w-full max-w-6xl px-8 py-10 space-y-10 animate-fadeIn",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 border-b border-gray-200 pb-4",children:[(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-[#243771]",children:"\uD83D\uDC69‍\uD83C\uDFEB Manajemen Staff"}),(0,r.jsxs)("button",{onClick:()=>{x(null),n({img_id:null,img_en:null}),f(!0)},className:"flex items-center gap-2 bg-gradient-to-r from-[#FE4D01] to-[#FE7A32] text-white px-6 py-2.5 rounded-md shadow-md hover:scale-105 transition",children:[(0,r.jsx)(d.A,{size:18})," Tambah Staff"]})]}),(0,r.jsx)("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm table-fixed align-middle",children:[(0,r.jsx)("thead",{className:"bg-gradient-to-r from-[#243771] to-[#3A4FA3] text-white",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-3 text-center",children:"No"}),(0,r.jsx)("th",{className:"p-3 text-center",children:"Gambar (ID)"}),(0,r.jsx)("th",{className:"p-3 text-center",children:"Gambar (EN)"}),(0,r.jsx)("th",{className:"p-3 text-center",children:"Aksi"})]})}),(0,r.jsx)("tbody",{className:"text-gray-700",children:e.length>0?e.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition",children:[(0,r.jsx)("td",{className:"p-3 text-center font-semibold",children:t+1}),(0,r.jsx)("td",{className:"p-3 text-center",children:(0,r.jsx)("img",{src:e.img_id,alt:"ID",className:"h-24 mx-auto object-contain rounded-lg border"})}),(0,r.jsx)("td",{className:"p-3 text-center",children:(0,r.jsx)("img",{src:e.img_en,alt:"EN",className:"h-24 mx-auto object-contain rounded-lg border"})}),(0,r.jsxs)("td",{className:"p-3 text-center flex justify-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>{x(e.id),f(!0)},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:(0,r.jsx)(c.A,{size:16})}),(0,r.jsx)("button",{onClick:()=>y(e.id),className:"p-2 bg-red-500 text-white rounded hover:bg-red-600",children:(0,r.jsx)(o.A,{size:16})})]})]},e.id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4,className:"text-center py-6 text-gray-500 italic",children:"Belum ada data staff."})})})]})})]})}),p&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,r.jsxs)("div",{ref:g,className:"relative bg-white border border-gray-200 rounded-lg p-7 w-[95%] max-w-md shadow-xl",children:[(0,r.jsx)("button",{onClick:()=>f(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-[#FE4D01]",children:(0,r.jsx)(m.A,{size:20})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-[#243771] mb-5 text-center",children:h?"Edit Data Staff":"Tambah Staff"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-gray-700 mb-1 block",children:"Gambar Bahasa Indonesia (.webp)"}),(0,r.jsx)("input",{type:"file",accept:".webp",onChange:e=>j(e,"id"),className:"w-full border border-gray-300 rounded-lg p-2"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-gray-700 mb-1 block",children:"Gambar Bahasa Inggris (.webp)"}),(0,r.jsx)("input",{type:"file",accept:".webp",onChange:e=>j(e,"en"),className:"w-full border border-gray-300 rounded-lg p-2"})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 border rounded-lg text-gray-600 hover:bg-gray-100",children:"Batal"}),(0,r.jsx)("button",{onClick:w,className:"px-4 py-2 bg-gradient-to-r from-[#FE4D01] to-[#FE7A32] text-white rounded-lg font-semibold hover:scale-105 transition",children:"Simpan"})]})]})})]})}},65229:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},71360:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},71847:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:a,strokeWidth:d?24*Number(i)/Number(s):i,className:n("lucide",c),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{className:d,...c}=a;return(0,r.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...c})});return a.displayName=s(e),a}},97603:(e,t,a)=>{Promise.resolve().then(a.bind(a,20403))}},e=>{e.O(0,[8320,5125,8441,1255,7358],()=>e(e.s=97603)),_N_E=e.O()}]);