(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6064],{6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18514:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},30722:function(e,t,a){e.exports=function(e,t){"use strict";let a=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],r=()=>{};return function(s){function l(t){let r={},s={},l=a.map(e=>e.key);return Object.entries(t).forEach(t=>{let[a,n]=t;l.includes(a)&&e.isValidElement(n)?(r[a]=n,s[a]=" "):s[a]=n}),[r,s]}function n(e,r){Object.entries(r).forEach(r=>{let[l,n]=r,i=a.find(e=>e.key===l).getter(s),o=t.createRoot(i);o.render(n),e.__roots.push(o)})}function i(e){e.__roots.forEach(e=>{e.unmount()}),e.__roots=[]}return class extends s{static argsToParams(t){if(!(e.isValidElement(t[0])||e.isValidElement(t[1])))return s.argsToParams(t);{let e={};return["title","html","icon"].forEach((a,r)=>{void 0!==t[r]&&(e[a]=t[r])}),e}}_main(e,t){this.__roots=[],this.__params=Object.assign({},t,e);let[a,s]=l(this.__params),o=s.willOpen||r,c=s.didOpen||r,d=s.didDestroy||r;return super._main(Object.assign({},s,{willOpen:e=>{n(this,a),o(e)},didOpen:e=>{setTimeout(()=>{c(e)})},didDestroy:e=>{d(e),i(this)}}))}update(e){Object.assign(this.__params,e),i(this);let[t,a]=l(this.__params);super.update(a),n(this,t)}}}}(a(12115),a(12669))},43064:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(95155),s=a(12115),l=a(15239),n=a(68407),i=a.n(n),o=a(30722),c=a.n(o),d=a(95125),u=a(6191);let h=(0,a(71847).A)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var m=a(18514),p=a(71360),f=a(95704);let g=c()(i());function x(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)({}),[i,o]=(0,s.useState)(null),[c,x]=(0,s.useState)(!1),[b,k]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),w=f.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api",N=async()=>{k(!0);try{let e=await d.A.get("".concat(w,"/ekskul"));t(e.data.data)}catch(e){console.error(e),g.fire("Gagal","Tidak dapat memuat data ekstrakurikuler.","error")}finally{k(!1)}};(0,s.useEffect)(()=>{N()},[]);let v=async e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(!r)return;if(!r.name.endsWith(".webp"))return void g.fire("Format Salah","Gunakan gambar berformat .webp","warning");let s=new FormData;s.append("file",r),j(!0);try{let e=await d.A.post("".concat(w,"/upload/ekskul"),s,{headers:{"Content-Type":"multipart/form-data"}});n({...a,img:e.data.url}),g.fire("Berhasil","Gambar berhasil diupload.","success")}catch(e){console.error(e),g.fire("Gagal","Upload gambar gagal.","error")}finally{j(!1)}},_=async()=>{if(!a.name_id||!a.name_en||!a.img||!a.ig)return void g.fire("Lengkapi Data","Semua field wajib diisi!","warning");try{i?(await d.A.put("".concat(w,"/ekskul/").concat(i),a),g.fire("Berhasil","Data berhasil diperbarui.","success")):(await d.A.post("".concat(w,"/ekskul"),a),g.fire("Berhasil","Data berhasil ditambahkan.","success")),n({}),o(null),x(!1),N()}catch(e){console.error(e),g.fire("Gagal","Terjadi kesalahan saat menyimpan data.","error")}};return(0,r.jsxs)("div",{className:"space-y-8 animate-fadeIn p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-[#243771]",children:"\uD83C\uDF93 Manajemen Ekstrakurikuler"}),(0,r.jsxs)("button",{onClick:()=>{n({}),o(null),x(!0)},className:"flex items-center gap-2 bg-[#FE4D01] text-white px-4 py-2 rounded-lg hover:bg-[#fe5d20] transition",children:[(0,r.jsx)(u.A,{size:18})," Tambah Ekstrakurikuler"]})]}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-md overflow-x-auto",children:b?(0,r.jsx)("div",{className:"text-center py-10 text-gray-500",children:"Memuat data..."}):(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[(0,r.jsx)("thead",{className:"bg-[#243771] text-white text-left",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-3",children:"#"}),(0,r.jsx)("th",{className:"p-3",children:"Nama (ID)"}),(0,r.jsx)("th",{className:"p-3",children:"Nama (EN)"}),(0,r.jsx)("th",{className:"p-3",children:"Logo"}),(0,r.jsx)("th",{className:"p-3",children:"Instagram"}),(0,r.jsx)("th",{className:"p-3 text-center",children:"Aksi"})]})}),(0,r.jsx)("tbody",{children:e.length>0?e.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[(0,r.jsx)("td",{className:"p-3",children:t+1}),(0,r.jsx)("td",{className:"p-3 font-semibold",children:e.name_id}),(0,r.jsx)("td",{className:"p-3",children:e.name_en}),(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)(l.default,{src:e.img||"/noimg.webp",alt:"logo",width:60,height:60,className:"rounded-md border border-gray-200 object-contain",unoptimized:!0})}),(0,r.jsx)("td",{className:"p-3",children:(0,r.jsxs)("a",{href:e.ig,target:"_blank",rel:"noopener noreferrer",className:"text-[#FE4D01] flex items-center gap-1 hover:underline",children:[(0,r.jsx)(h,{size:14})," Instagram"]})}),(0,r.jsxs)("td",{className:"p-3 flex justify-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>{n(e),o(e.id),x(!0)},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:(0,r.jsx)(m.A,{size:16})}),(0,r.jsx)("button",{onClick:()=>{var t;return t=e.id,void g.fire({title:"Hapus Ekstrakurikuler?",text:"Data tidak bisa dikembalikan setelah dihapus.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#FE4D01",cancelButtonColor:"#243771",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(async e=>{if(e.isConfirmed)try{await d.A.delete("".concat(w,"/ekskul/").concat(t)),g.fire("Terhapus!","Data berhasil dihapus.","success"),N()}catch(e){console.error(e),g.fire("Gagal","Tidak bisa menghapus data.","error")}})},className:"p-2 bg-red-500 text-white rounded hover:bg-red-600 transition",children:(0,r.jsx)(p.A,{size:16})})]})]},e.id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"text-center py-6 text-gray-500 italic",children:"Belum ada data ekstrakurikuler."})})})]})}),c&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-[95%] max-w-md shadow-xl relative",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-[#243771] mb-4",children:i?"Edit Ekstrakurikuler":"Tambah Ekstrakurikuler"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Nama (Bahasa Indonesia)",value:a.name_id||"",onChange:e=>n({...a,name_id:e.target.value}),className:"border p-2 w-full rounded"}),(0,r.jsx)("input",{type:"text",placeholder:"Nama (English)",value:a.name_en||"",onChange:e=>n({...a,name_en:e.target.value}),className:"border p-2 w-full rounded"}),(0,r.jsx)("input",{type:"url",placeholder:"Tautan Instagram",value:a.ig||"",onChange:e=>n({...a,ig:e.target.value}),className:"border p-2 w-full rounded"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:"Upload Gambar (.webp)"}),(0,r.jsx)("input",{type:"file",accept:".webp",onChange:v,className:"w-full border rounded-lg p-2"}),y&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1 italic",children:"Mengupload gambar..."}),a.img&&(0,r.jsx)(l.default,{src:a.img,alt:"Preview",width:120,height:120,className:"rounded-lg mt-2 border border-gray-200"})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 border rounded-lg text-gray-600 hover:bg-gray-100",children:"Batal"}),(0,r.jsx)("button",{onClick:_,disabled:y,className:"px-4 py-2 bg-[#FE4D01] text-white rounded-lg hover:bg-[#fe5d20]",children:"Simpan"})]})]})})]})}},50259:(e,t,a)=>{Promise.resolve().then(a.bind(a,43064))},71360:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},71847:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,r.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:o?24*Number(i)/Number(s):i,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:o,...c}=a;return(0,r.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return a.displayName=s(e),a}},83011:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=a(12115);function s(e,t){let a=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=a.current;e&&(a.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(a.current=l(e,r)),t&&(s.current=l(t,r))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let a=e(t);return"function"==typeof a?a:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{e.O(0,[8320,5125,5239,8441,1255,7358],()=>e(e.s=50259)),_N_E=e.O()}]);