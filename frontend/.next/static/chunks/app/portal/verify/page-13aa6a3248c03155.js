(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9327],{1920:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(95155),n=r(12115),i=r(20063),o=r(68407),s=r.n(o),c=r(30722),l=r.n(c),u=r(66348),d=r(72378),m=r(90368);let f=(0,r(71847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var h=r(35299);let p=l()(s());function g(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)().get("email")||"",[r]=(0,n.useState)(t),[o,s]=(0,n.useState)(["","","","","",""]),[c,l]=(0,n.useState)(!1),g=async t=>{t.preventDefault();let a=o.join("");if(6!==a.length)return void p.fire({icon:"warning",title:"Kode Tidak Lengkap",text:"Masukkan 6 digit kode verifikasi.",confirmButtonColor:"#FE4D01",background:"#1e2b63",color:"#fff"});l(!0);try{let t=await u.A.post("/auth/verify-code",{email:r,code:a});t.data.success&&t.data.token?(d.A.set("portal-auth-token",t.data.token,{path:"/",secure:!1,sameSite:"lax"}),await p.fire({icon:"success",title:"Verifikasi Berhasil!",text:"Selamat datang di Portal Admin.",showConfirmButton:!1,timer:1300,background:"#1e2b63",color:"#fff"}),setTimeout(()=>{e.replace("/portal/dashboard")},300)):p.fire({icon:"error",title:"Verifikasi Gagal!",text:t.data.message||"Kode salah atau kadaluarsa.",confirmButtonColor:"#FE4D01",background:"#1e2b63",color:"#fff"})}catch(e){var n,i;console.error("Verify Error:",e),p.fire({icon:"error",title:"Kesalahan Server",text:(null==(i=e.response)||null==(n=i.data)?void 0:n.message)||"Tidak dapat terhubung ke server backend.",confirmButtonColor:"#FE4D01",background:"#1e2b63",color:"#fff"})}finally{l(!1)}};return(0,a.jsxs)("main",{className:"min-h-screen flex items-center justify-center bg-[#243771] relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#243771] via-[#1e2b63] to-[#111b45]"}),(0,a.jsx)("div",{className:"absolute w-[400px] h-[400px] bg-[#FE4D01]/20 rounded-full blur-[120px] -top-20 -left-20"}),(0,a.jsxs)("div",{className:"relative z-10 bg-white/10 backdrop-blur-xl border border-white/10 rounded-2xl p-8 w-[90%] max-w-md text-center shadow-xl",children:[(0,a.jsx)("button",{onClick:()=>e.push("/portal"),className:"absolute left-6 top-6 text-white/70 hover:text-white",children:(0,a.jsx)(m.A,{size:22})}),(0,a.jsx)(f,{size:46,className:"text-[#FE4D01] mb-3 mx-auto"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-1",children:"Verifikasi Kode"}),(0,a.jsxs)("p",{className:"text-white/70 text-sm mb-6",children:["Masukkan 6 digit kode yang dikirim ke ",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-[#FE4D01] font-semibold",children:r})]}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-center gap-3",children:o.map((e,t)=>(0,a.jsx)("input",{id:"code-".concat(t),type:"text",maxLength:1,value:e,onChange:e=>((e,t)=>{var r;if(!/^\d?$/.test(e))return;let a=[...o];a[t]=e,s(a),e&&t<5&&(null==(r=document.getElementById("code-".concat(t+1)))||r.focus())})(e.target.value,t),className:"w-10 h-12 sm:w-12 sm:h-14 rounded-md bg-white/20 text-white text-center text-lg font-semibold focus:ring-2 focus:ring-[#FE4D01] outline-none"},t))}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg bg-gradient-to-r from-[#FE4D01] to-[#FE7A32] text-white font-semibold hover:scale-[1.02] transition-all disabled:opacity-60",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{size:18,className:"animate-spin"})," Verifikasi..."]}):"Verifikasi Sekarang"})]})]})]})}},20063:(e,t,r)=>{"use strict";var a=r(47260);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},30722:function(e,t,r){e.exports=function(e,t){"use strict";let r=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],a=()=>{};return function(n){function i(t){let a={},n={},i=r.map(e=>e.key);return Object.entries(t).forEach(t=>{let[r,o]=t;i.includes(r)&&e.isValidElement(o)?(a[r]=o,n[r]=" "):n[r]=o}),[a,n]}function o(e,a){Object.entries(a).forEach(a=>{let[i,o]=a,s=r.find(e=>e.key===i).getter(n),c=t.createRoot(s);c.render(o),e.__roots.push(c)})}function s(e){e.__roots.forEach(e=>{e.unmount()}),e.__roots=[]}return class extends n{static argsToParams(t){if(!(e.isValidElement(t[0])||e.isValidElement(t[1])))return n.argsToParams(t);{let e={};return["title","html","icon"].forEach((r,a)=>{void 0!==t[a]&&(e[r]=t[a])}),e}}_main(e,t){this.__roots=[],this.__params=Object.assign({},t,e);let[r,n]=i(this.__params),c=n.willOpen||a,l=n.didOpen||a,u=n.didDestroy||a;return super._main(Object.assign({},n,{willOpen:e=>{o(this,r),c(e)},didOpen:e=>{setTimeout(()=>{l(e)})},didDestroy:e=>{u(e),s(this)}}))}update(e){Object.assign(this.__params,e),s(this);let[t,r]=i(this.__params);super.update(r),o(this,t)}}}}(r(12115),r(12669))},35299:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},38252:(e,t,r)=>{Promise.resolve().then(r.bind(r,1920))},66348:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(95125),n=r(72378);let i=a.A.create({baseURL:"https://api.smkprestasiprima.sch.id/api",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let t=n.A.get("portal-auth-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let o=i},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(12115);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:l="",children:u,iconNode:d,...m}=e;return(0,a.createElement)("svg",{ref:t,...o,width:n,height:n,stroke:r,strokeWidth:c?24*Number(s)/Number(n):s,className:i("lucide",l),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{className:c,...l}=r;return(0,a.createElement)(s,{ref:o,iconNode:t,className:i("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...l})});return r.displayName=n(e),r}},72378:(e,t,r)=>{"use strict";function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}r.d(t,{A:()=>n});var n=function e(t,r){function n(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=a({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+o}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],a={},n=0;n<r.length;n++){var i=r[n].split("="),o=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(a[s]=t.read(o,s),e===s)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){n(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},90368:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])}},e=>{e.O(0,[8320,5125,8441,1255,7358],()=>e(e.s=38252)),_N_E=e.O()}]);