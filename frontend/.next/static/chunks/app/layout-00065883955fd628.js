(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{13673:()=>{},38607:(e,s,a)=>{"use strict";a.d(s,{default:()=>c});var t=a(95155),r=a(88661),d=a.n(r),n=a(12115),o=a(65229),l=a(5937),i=a(78192),m=a(20508),f=a(18085),x=a(86528);function c(){let[e,s]=(0,n.useState)(!1),[a,r]=(0,n.useState)([]),[c,b]=(0,n.useState)(""),[h,u]=(0,n.useState)(!1),g=(0,n.useRef)(null),j=window.location.pathname,p=async()=>{if(!c.trim())return;let e={sender:"user",text:c};r(s=>[...s,e]),b(""),u(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c})}),s=await e.json();u(!1),r(e=>[...e,{sender:"bot",text:s.reply}])}catch(e){console.error("❌ Chat send error:",e),u(!1),r(e=>[...e,{sender:"bot",text:"⚠️ Error terhubung ke server."}]),(0,x.Qg)("Gagal mengirim pesan","Tidak dapat terhubung ke server obrolan. Silakan coba lagi.")}};return(0,n.useEffect)(()=>{var e;null==(e=g.current)||e.scrollIntoView({behavior:"smooth"})},[a]),(0,n.useEffect)(()=>{e&&0===a.length&&setTimeout(()=>{r([{sender:"bot",text:"Halo! \uD83D\uDC4B\n\nSelamat datang di SMK Prestasi Prima.\nAda yang bisa saya bantu?"}])},500)},[e,a.length]),(0,t.jsx)("div",{children:!j.startsWith("/edu/")&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>s(!e),style:{boxShadow:"0 10px 40px rgba(249, 115, 22, 0.4)"},className:"jsx-e4084dad18f6d4bf z-50 fixed bottom-4 right-4 sm:bottom-6 sm:right-6 bg-gradient-to-br from-orange-500 to-orange-600 p-3 sm:p-4 rounded-full shadow-2xl text-white hover:from-orange-600 hover:to-orange-700 transition-all duration-300 active:scale-95 group",children:[e?(0,t.jsx)(o.A,{className:"w-5 h-5 sm:w-6 sm:h-6 transition-transform group-hover:rotate-90 duration-300"}):(0,t.jsx)(l.A,{className:"w-5 h-5 sm:w-6 sm:h-6 transition-transform group-hover:scale-110 duration-300"}),!e&&(0,t.jsx)("span",{className:"jsx-e4084dad18f6d4bf absolute inset-0 rounded-full bg-orange-500 animate-ping opacity-20"})]}),e&&(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf z-50 fixed bottom-16 left-4 right-4 w-auto h-[380px] max-h-[80vh] sm:bottom-24 sm:left-auto sm:right-6 sm:w-[420px] sm:h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-orange-100 animate-slideUp",children:[(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf bg-gradient-to-r from-orange-500 via-orange-600 to-orange-500 text-white p-4 sm:p-5 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-e4084dad18f6d4bf absolute inset-0 bg-white opacity-10"}),(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf relative flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf flex items-center gap-2 sm:gap-3",children:[(0,t.jsx)("div",{className:"jsx-e4084dad18f6d4bf w-8 h-8 sm:w-10 sm:h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border-2 border-white/30",children:(0,t.jsx)(i.A,{className:"w-4 h-4 sm:w-6 sm:h-6"})}),(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf",children:[(0,t.jsx)("h3",{className:"jsx-e4084dad18f6d4bf font-bold text-base sm:text-lg",children:"Assistant AI"}),(0,t.jsx)("p",{className:"jsx-e4084dad18f6d4bf text-[11px] sm:text-xs text-orange-100",children:"Online • Siap membantu"})]})]}),(0,t.jsx)("button",{onClick:()=>s(!1),className:"jsx-e4084dad18f6d4bf w-8 h-8 hover:bg-white/20 rounded-full transition-colors flex items-center justify-center",children:(0,t.jsx)(o.A,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf flex-1 p-3 sm:p-4 space-y-3 sm:space-y-4 overflow-y-auto bg-gradient-to-b from-orange-50/30 to-white custom-scrollbar",children:[a.map((e,s)=>(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf "+"flex gap-1 sm:gap-2 ".concat("user"===e.sender?"justify-end":"justify-start"," animate-fadeIn"),children:["bot"===e.sender&&(0,t.jsx)("div",{className:"jsx-e4084dad18f6d4bf w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:(0,t.jsx)(i.A,{className:"w-3 h-3 sm:w-5 sm:h-5 text-white"})}),(0,t.jsx)("div",{className:"jsx-e4084dad18f6d4bf "+"max-w-[75%] p-2.5 sm:p-3.5 rounded-2xl shadow-sm ".concat("user"===e.sender?"bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-tr-sm":"bg-white text-gray-800 rounded-tl-sm border border-gray-100"),children:e.text.split("\n\n").map((e,s)=>(0,t.jsx)("p",{className:"jsx-e4084dad18f6d4bf mb-2 last:mb-0 text-xs sm:text-sm leading-relaxed",children:e.split("\n").map((e,s)=>(0,t.jsxs)("span",{className:"jsx-e4084dad18f6d4bf",children:[e,(0,t.jsx)("br",{className:"jsx-e4084dad18f6d4bf"})]},s))},s))}),"user"===e.sender&&(0,t.jsx)("div",{className:"jsx-e4084dad18f6d4bf w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:(0,t.jsx)(m.A,{className:"w-3 h-3 sm:w-5 sm:h-5 text-white"})})]},s)),h&&(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf flex gap-1 sm:gap-2 items-end animate-fadeIn",children:[(0,t.jsx)("div",{className:"jsx-e4084dad18f6d4bf w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:(0,t.jsx)(i.A,{className:"w-3 h-3 sm:w-5 sm:h-5 text-white"})}),(0,t.jsx)("div",{className:"jsx-e4084dad18f6d4bf bg-white p-3 sm:p-4 rounded-2xl rounded-tl-sm shadow-sm border border-gray-100",children:(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf flex gap-1",children:[(0,t.jsx)("span",{style:{animationDelay:"0ms"},className:"jsx-e4084dad18f6d4bf w-2 h-2 bg-orange-400 rounded-full animate-bounce"}),(0,t.jsx)("span",{style:{animationDelay:"150ms"},className:"jsx-e4084dad18f6d4bf w-2 h-2 bg-orange-400 rounded-full animate-bounce"}),(0,t.jsx)("span",{style:{animationDelay:"300ms"},className:"jsx-e4084dad18f6d4bf w-2 h-2 bg-orange-400 rounded-full animate-bounce"})]})})]}),(0,t.jsx)("div",{ref:g,className:"jsx-e4084dad18f6d4bf"})]}),(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf p-3 sm:p-4 border-t border-gray-100 bg-white",children:[(0,t.jsxs)("div",{className:"jsx-e4084dad18f6d4bf flex gap-2 items-end",children:[(0,t.jsx)("div",{className:"jsx-e4084dad18f6d4bf flex-1 relative",children:(0,t.jsx)("input",{value:c,onChange:e=>b(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&p(),placeholder:"Ketik pesan Anda...",className:"jsx-e4084dad18f6d4bf w-full border-2 border-gray-200 rounded-2xl px-3 py-2 sm:px-4 sm:py-3 text-gray-900 text-xs sm:text-sm focus:outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100 transition-all placeholder:text-gray-400"})}),(0,t.jsx)("button",{onClick:p,disabled:!c.trim(),style:{boxShadow:"0 4px 15px rgba(249, 115, 22, 0.3)"},className:"jsx-e4084dad18f6d4bf bg-gradient-to-br from-orange-500 to-orange-600 p-2.5 sm:p-3.5 rounded-2xl text-white hover:from-orange-600 hover:to-orange-700 transition-all active:scale-95 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-orange-500 disabled:hover:to-orange-600",children:(0,t.jsx)(f.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),(0,t.jsx)("p",{className:"jsx-e4084dad18f6d4bf text-[11px] sm:text-xs text-gray-400 mt-2 text-center",children:"Powered by SMK Prestasi Prima AI"})]})]}),(0,t.jsx)(d(),{id:"e4084dad18f6d4bf",children:"@keyframes slideUp{from{opacity:0;transform:translatey(20px)scale(.95)}to{opacity:1;transform:translatey(0)scale(1)}}@keyframes fadeIn{from{opacity:0;transform:translatey(10px)}to{opacity:1;transform:translatey(0)}}.animate-slideUp.jsx-e4084dad18f6d4bf{animation:slideUp.3s ease-out}.animate-fadeIn.jsx-e4084dad18f6d4bf{animation:fadeIn.3s ease-out}.custom-scrollbar.jsx-e4084dad18f6d4bf::-webkit-scrollbar{width:6px}.custom-scrollbar.jsx-e4084dad18f6d4bf::-webkit-scrollbar-track{background:transparent}.custom-scrollbar.jsx-e4084dad18f6d4bf::-webkit-scrollbar-thumb{background:#fb923c;border-radius:10px}.custom-scrollbar.jsx-e4084dad18f6d4bf::-webkit-scrollbar-thumb:hover{background:#f97316}"})]})})}},86528:(e,s,a)=>{"use strict";a.d(s,{Qg:()=>o});var t=a(68407),r=a.n(t),d=a(30722);let n=a.n(d)()(r());function o(e,s){n.fire({icon:"error",title:e,text:s,confirmButtonColor:"#f97316",timer:5e3})}},96606:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,11105,23)),Promise.resolve().then(a.bind(a,38607)),Promise.resolve().then(a.bind(a,96854)),Promise.resolve().then(a.t.bind(a,13673,23))},96854:(e,s,a)=>{"use strict";a.d(s,{LangProvider:()=>n,u:()=>o});var t=a(95155),r=a(12115);let d=(0,r.createContext)({lang:"id",setLang:()=>{}}),n=e=>{let{children:s}=e,[a,n]=(0,r.useState)("id"),[o,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=localStorage.getItem("lang");e&&n(e),l(!0)},[]),o)?(0,t.jsx)(d.Provider,{value:{lang:a,setLang:e=>{n(e),localStorage.setItem("lang",e)}},children:s}):null},o=()=>(0,r.useContext)(d)}},e=>{e.O(0,[6917,2978,8320,518,8441,1255,7358],()=>e(e.s=96606)),_N_E=e.O()}]);