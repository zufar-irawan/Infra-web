(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3585],{37460:(e,t,a)=>{Promise.resolve().then(a.bind(a,98394))},96854:(e,t,a)=>{"use strict";a.d(t,{LangProvider:()=>r,u:()=>n});var s=a(95155),i=a(12115);let l=(0,i.createContext)({lang:"id",setLang:()=>{}}),r=e=>{let{children:t}=e,[a,r]=(0,i.useState)("id"),[n,c]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let e=localStorage.getItem("lang");e&&r(e),c(!0)},[]),n)?(0,s.jsx)(l.Provider,{value:{lang:a,setLang:e=>{r(e),localStorage.setItem("lang",e)}},children:t}):null},n=()=>(0,i.useContext)(l)},98394:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(95155),i=a(52619),l=a.n(i),r=a(96854),n=a(12115);function c(){let{lang:e}=(0,r.u)(),[t,a]=(0,n.useState)([]),[i,c]=(0,n.useState)(!0),[d,o]=(0,n.useState)(!1),m=(0,n.useRef)(null);(0,n.useEffect)(()=>{fetch("/api/portal/berita/public",{cache:"no-store"}).then(e=>e.json()).then(e=>{e.success&&Array.isArray(e.data)?a(e.data.map(e=>{let t=e.image||"";return t.startsWith("http://")?t=t.replace("http://","https://"):t.startsWith("https://")||(t="".concat("https://api.smkprestasiprima.sch.id").concat(t.startsWith("/")?"":"/").concat(t)),{...e,image:t}})):a([])}).catch(e=>console.error("❌ Gagal ambil berita:",e)).finally(()=>c(!1))},[]),(0,n.useEffect)(()=>{let e=new IntersectionObserver(e=>e.forEach(e=>e.isIntersecting&&o(!0)),{threshold:.2});return m.current&&e.observe(m.current),()=>e.disconnect()},[]);let x=t.slice(0,3),h=t.slice(3);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"h-[100px] bg-white"}),(0,s.jsx)("section",{className:"w-full py-4 bg-white",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("nav",{className:"flex items-center text-sm font-medium flex-wrap gap-1",children:[(0,s.jsx)(l(),{href:"/",className:"text-[#FE4D01] hover:underline",children:"id"===e?"Beranda":"Home"}),(0,s.jsx)("span",{className:"text-[#FE4D01]",children:">"}),(0,s.jsx)(l(),{href:"/informasi",className:"text-[#FE4D01] hover:underline",children:"id"===e?"Informasi":"Information"}),(0,s.jsx)("span",{className:"text-[#243771]",children:">"}),(0,s.jsx)("span",{className:"text-[#243771]",children:"id"===e?"Berita":"News"})]})})}),(0,s.jsx)("section",{ref:m,className:"w-full bg-white py-16 overflow-hidden transition-all duration-700 ".concat(d?"opacity-100 translate-y-0":"opacity-0 translate-y-10"),children:(0,s.jsxs)("div",{className:"container mx-auto px-6",children:[(0,s.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-center text-[#243771] mb-10",children:"id"===e?"Berita Terbaru":"Latest News"}),i?(0,s.jsx)("p",{className:"text-center text-gray-500 italic",children:"id"===e?"Memuat berita...":"Loading news..."}):0===t.length?(0,s.jsx)("p",{className:"text-center text-gray-500 italic",children:"id"===e?"Belum ada berita.":"No news available."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-3 mb-10",children:x.map(t=>(0,s.jsxs)("article",{className:"bg-white rounded-2xl border border-gray-200 shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden",children:[t.image&&(0,s.jsx)("div",{className:"relative w-full aspect-[4/3]",children:(0,s.jsx)("img",{src:t.image,alt:"id"===e?t.title_id:t.title_en,className:"object-cover w-full h-full",loading:"lazy"})}),(0,s.jsxs)("div",{className:"p-4 md:p-5",children:[(0,s.jsx)("p",{className:"text-xs md:text-sm font-semibold text-[#FE4D01] mb-2",children:new Date(t.date).toLocaleDateString("id"===e?"id-ID":"en-US")}),(0,s.jsx)("h3",{className:"text-[15px] md:text-lg font-semibold text-[#111820] leading-snug mb-2",children:"id"===e?t.title_id:t.title_en}),(0,s.jsx)("p",{className:"text-gray-600 text-sm md:text-[15px] leading-relaxed mb-3 line-clamp-3",children:"id"===e?t.desc_id:t.desc_en}),(0,s.jsx)(l(),{href:{pathname:"/informasi/berita/".concat(t.id),query:{img:t.image}},className:"text-[#FE4D01] font-semibold text-sm hover:underline",children:"id"===e?"Baca Selengkapnya...":"Read More..."})]})]},t.id))}),h.length>0&&(0,s.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:h.map(t=>(0,s.jsxs)("article",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",children:[t.image&&(0,s.jsx)("div",{className:"relative w-full aspect-[4/3]",children:(0,s.jsx)("img",{src:t.image,alt:"id"===e?t.title_id:t.title_en,className:"object-cover w-full h-full",loading:"lazy"})}),(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsx)("p",{className:"text-xs text-[#FE4D01] mb-1",children:new Date(t.date).toLocaleDateString("id"===e?"id-ID":"en-US")}),(0,s.jsx)("h4",{className:"text-[14px] font-semibold text-[#111820] mb-1 line-clamp-2",children:"id"===e?t.title_id:t.title_en}),(0,s.jsx)(l(),{href:{pathname:"/informasi/berita/".concat(t.id),query:{img:t.image}},className:"text-[13px] text-[#FE4D01] font-medium hover:underline",children:"id"===e?"Baca":"Read"})]})]},t.id))})]})]})})]})}}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=37460)),_N_E=e.O()}]);