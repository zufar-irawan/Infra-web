"use strict";exports.id=9098,exports.ids=[9098],exports.modules={3663:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9098:(a,b,c)=>{c.d(b,{A:()=>s});var d=c(21124),e=c(38301),f=c(46148),g=c(3663),h=c(87278),i=c(12454),j=c(40179),k=c(57759),l=c(47089),m=c(15303),n=c(43700),o=c(75219),p=c(18310),q=c(40284),r=c(71563);function s({isOpen:a,onClose:b,tugasId:c,tugasTitle:s,deadline:t,onUploadComplete:u}){let[v,w]=(0,e.useState)([]),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(""),D=(0,e.useRef)(null),E=a=>{if(0===a)return"0 Bytes";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(2))+" "+["Bytes","KB","MB","GB"][b]},F=a=>a.type.startsWith("image/")?"image":a.type.startsWith("video/")?"video":a.type.startsWith("audio/")?"audio":a.type.includes("zip")||a.type.includes("rar")?"archive":a.type.includes("pdf")||a.type.includes("document")||a.type.includes("text")?"document":"other",G=a=>new Promise(b=>{if(a.type.startsWith("image/")){let c=new FileReader;c.onload=a=>b(a.target?.result),c.readAsDataURL(a)}else b(void 0)}),H=a=>a.size>0x3200000?{valid:!1,error:"File terlalu besar. Maksimal 50MB"}:["image/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","video/*","audio/*","application/zip","application/x-rar-compressed"].some(b=>b.endsWith("/*")?a.type.startsWith(b.slice(0,-1)):a.type===b)?{valid:!0}:{valid:!1,error:"Tipe file tidak didukung"},I=(0,e.useCallback)(async a=>{let b=[],c=[];for(let d=0;d<a.length;d++){let e=a[d],f=H(e);if(!f.valid){c.push(`${e.name}: ${f.error}`);continue}if(v.length+b.length>=10){c.push("Maksimal 10 file");break}let g=F(e),h=await G(e);b.push({id:`${Date.now()}-${Math.random()}`,file:e,preview:h,type:g,size:E(e.size),status:"pending"})}c.length>0&&alert(c.join("\n")),b.length>0&&w(a=>[...a,...b])},[v]),J=async a=>new Promise(b=>{let c=0,d=setInterval(()=>{(c+=30*Math.random())>=100&&(c=100,clearInterval(d),b()),w(b=>b.map(b=>b.id===a.id?{...b,progress:c,status:100===c?"completed":"uploading"}:b))},200)}),K=async()=>{if(0===v.length)return void alert("Pilih file terlebih dahulu");A(!0);try{for(let a of v)await J(a);u?.(v),w([]),C(""),b()}catch(a){console.error("Upload error:",a),alert("Terjadi kesalahan saat upload")}finally{A(!1)}};return a?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold",children:"Upload Tugas"}),(0,d.jsx)("p",{className:"text-orange-100 text-sm mt-1",children:s})]}),(0,d.jsx)("button",{onClick:b,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,d.jsx)(l.A,{className:"w-5 h-5"})})]}),(0,d.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-orange-100 text-sm",children:[(0,d.jsx)(m.A,{className:"w-4 h-4"}),(0,d.jsxs)("span",{children:["Deadline: ",new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),(0,d.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[(0,d.jsxs)("div",{className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 ${x?"border-orange-400 bg-orange-50 scale-[1.02]":"border-gray-300 hover:border-orange-300 hover:bg-orange-50/30"}`,onDragOver:a=>{a.preventDefault(),y(!0)},onDragLeave:a=>{a.preventDefault(),y(!1)},onDrop:a=>{a.preventDefault(),y(!1);let b=a.dataTransfer.files;b.length>0&&I(b)},onClick:()=>{D.current&&D.current.click()},children:[(0,d.jsx)("input",{ref:D,type:"file",multiple:!0,accept:"image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain,video/*,audio/*,application/zip,application/x-rar-compressed",onChange:a=>{let b=a.target.files;b&&b.length>0&&I(b),D.current&&(D.current.value="")},className:"hidden"}),(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,d.jsx)("div",{className:`p-4 rounded-full transition-colors ${x?"bg-orange-100":"bg-gray-100"}`,children:(0,d.jsx)(n.A,{className:`w-8 h-8 ${x?"text-orange-600":"text-gray-600"}`})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:x?"Lepaskan file di sini":"Upload File Tugas"}),(0,d.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Drag & drop file atau klik untuk memilih"}),(0,d.jsx)("p",{className:"text-gray-500 text-xs",children:"Maksimal 10 file, 50MB per file"})]})]})]}),v.length>0&&(0,d.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,d.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,d.jsx)(k.A,{className:"w-4 h-4"}),"File Terpilih (",v.length,")"]}),(0,d.jsx)("div",{className:"space-y-2",children:v.map(a=>{var b;let c=(b=a.file.type).startsWith("image/")?f.A:b.includes("pdf")||b.includes("document")?g.A:b.startsWith("video/")?h.A:b.startsWith("audio/")?i.A:b.includes("zip")||b.includes("rar")?j.A:k.A;return(0,d.jsx)("div",{className:`bg-white border rounded-xl p-4 transition-all duration-200 ${"completed"===a.status?"border-green-200 bg-green-50":"error"===a.status?"border-red-200 bg-red-50":"border-gray-200 hover:shadow-md"}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"completed"===a.status?"bg-green-100":"error"===a.status?"bg-red-100":"bg-gray-100"}`,children:(0,d.jsx)(c,{className:`w-5 h-5 ${"completed"===a.status?"text-green-600":"error"===a.status?"text-red-600":"text-gray-600"}`})})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:a.file.name}),"completed"===a.status&&(0,d.jsx)(o.A,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),"error"===a.status&&(0,d.jsx)(p.A,{className:"w-4 h-4 text-red-500 flex-shrink-0"})]}),(0,d.jsxs)("p",{className:"text-xs text-gray-500",children:[a.size," â€¢ ",a.type]}),"uploading"===a.status&&void 0!==a.progress&&(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,d.jsx)("div",{className:"bg-orange-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),(0,d.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[a.progress,"%"]})]})]}),a.preview&&(0,d.jsx)("button",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-md hover:bg-blue-200 transition-colors",onClick:()=>window.open(a.preview,"_blank"),children:"Preview"}),(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void w(a=>a.filter(a=>a.id!==b))},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",disabled:"uploading"===a.status,children:(0,d.jsx)(q.A,{className:"w-4 h-4"})})]})},a.id)})})]}),(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Komentar (Opsional)"}),(0,d.jsx)("textarea",{value:B,onChange:a=>C(a.target.value),placeholder:"Tambahkan komentar untuk tugas Anda...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",rows:3})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:[(0,d.jsx)("button",{onClick:b,className:"px-6 py-2 border border-gray-300 text-gray-600 rounded-xl font-medium hover:bg-gray-50 transition-colors",disabled:z,children:"Batal"}),(0,d.jsx)("button",{onClick:K,disabled:0===v.length||z,className:"px-6 py-2 bg-orange-500 text-white rounded-xl font-medium hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:z?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.A,{className:"w-4 h-4"}),"Kirim Tugas"]})})]})]})}):null}},12454:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},15303:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},18310:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},40179:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},40284:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},43700:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},46148:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},57759:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},75219:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},87278:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])}};