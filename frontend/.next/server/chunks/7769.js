exports.id=7769,exports.ids=[7769],exports.modules={22143:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>E});var d=c(21124),e=c(38301),f=c(42378),g=c(12989),h=c(3991),i=c.n(h),j=c(24515),k=c(1492),l=c(77850),m=c(65893),n=c(6191),o=c(72193),p=c(72567),q=c(95388),r=c(50026),s=c(92714),t=c(21479),u=c(15952),v=c(47089),w=c(19710);function x({isOpen:a,onClose:b,user:c}){let e=(0,f.useRouter)(),h=(0,f.usePathname)(),x=async()=>{try{let a=await g.A.post("/api/logout");if(200===a.status&&a.data.logout)k.A.fire({icon:"success",title:"Berhasil",text:a.data.error?`${a.data.error} - Namun Anda tetap berhasil logout`:"Anda telah logout!",timer:2e3,showConfirmButton:!1}),e.push("/edu/login");else throw Error("Logout response tidak valid")}catch(a){console.error("Logout error:",a),k.A.fire({icon:"warning",title:"Logout Paksa",text:"Terjadi error saat logout, namun Anda tetap akan di-logout dari sistem",timer:2e3,showConfirmButton:!1}),e.push("/edu/login")}},y=({href:a,icon:b,label:c})=>{let e=h===a;return(0,d.jsxs)(i(),{href:a,prefetch:!0,className:e?"group bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-xl px-4 py-3.5 flex items-center gap-3 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02]":"group rounded-xl px-4 py-3.5 hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-50/50 transition-all duration-300 cursor-pointer flex items-center gap-3 hover:shadow-sm hover:scale-[1.02] border border-transparent hover:border-orange-100",children:[(0,d.jsx)("div",{className:e?"p-1.5 bg-white/20 rounded-lg":"p-1.5 rounded-lg group-hover:bg-orange-100 transition-colors",children:(0,d.jsx)(b,{className:e?"w-5 h-5":"w-5 h-5 text-gray-600 group-hover:text-orange-600 transition-colors"})}),(0,d.jsx)("span",{className:e?"font-semibold":"font-medium text-gray-700 group-hover:text-orange-700 transition-colors",children:c})]})},z=[{href:"/edu/dashboard",icon:l.A,label:"Dashboard"},{href:"/edu/guru",icon:m.A,label:"Guru"},{href:"/edu/siswa",icon:m.A,label:"Siswa"},{href:"/edu/kelas",icon:n.A,label:"Kelas"},{href:"/edu/ujian",icon:o.A,label:"Ujian"},{href:"/edu/jadwal",icon:p.A,label:"Jadwal"},{href:"/edu/laporan",icon:q.A,label:"Laporan"}],A=[{href:"/edu/presensi",icon:q.A,label:"Presensi"},{href:"/edu/setelan",icon:r.A,label:"Setelan"},{href:"/edu/perangkat",icon:s.A,label:"Perangkat"},{href:"/edu/rfid",icon:t.A,label:"RFID"}],B=[{href:"/edu/dashboard",icon:l.A,label:"Dashboard"},{href:"/edu/tugas",icon:o.A,label:"Tugas"},{href:"/edu/ujian",icon:o.A,label:"Ujian"},{href:"/edu/jadwal",icon:p.A,label:"Jadwal"},{href:"/edu/laporan",icon:q.A,label:"Laporan"},{href:"/edu/presensi",icon:q.A,label:"Absensi"}],C=[{href:"/edu/dashboard",icon:l.A,label:"Dashboard"},{href:"/edu/tugas",icon:o.A,label:"Tugas"},{href:"/edu/ujian",icon:o.A,label:"Ujian"},{href:"/edu/nilai",icon:u.A,label:"Nilai"},{href:"/edu/jadwal",icon:p.A,label:"Jadwal"}];return(0,d.jsxs)(d.Fragment,{children:[a&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/25 z-40 lg:hidden",onClick:b}),(0,d.jsxs)("aside",{className:`w-full fixed lg:relative max-w-xs h-screen bg-gradient-to-b from-slate-50 to-white text-gray-700
          border-r border-gray-200 shadow-sm flex flex-col justify-between z-50 transition-transform duration-300 ease-in-out
          ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-300 hover:scrollbar-thumb-gray-400",children:[(0,d.jsxs)("section",{className:"w-full bg-gradient-to-br from-orange-600 via-orange-500 to-orange-600 flex justify-between items-center gap-3 p-6 relative overflow-hidden flex-shrink-0",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-white/5 backdrop-blur-3xl"}),(0,d.jsxs)("div",{className:"relative z-10 flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-white/20 p-2 rounded-2xl backdrop-blur-sm shadow-lg",children:(0,d.jsx)(j.default,{src:"/smk.png",alt:"logo-smk",width:50,height:50,className:"drop-shadow-md"})}),(0,d.jsx)("h1",{className:"text-2xl tracking-tight font-bold text-white drop-shadow-md",children:"Presma EDU"})]}),(0,d.jsx)("button",{onClick:b,className:"relative z-10 lg:hidden p-2 rounded-lg hover:bg-white/20 transition-colors",children:(0,d.jsx)(v.A,{className:"w-6 h-6 text-white"})})]}),(0,d.jsx)("section",{className:"w-full p-5 flex-shrink-0",children:(0,d.jsx)("div",{className:"bg-white rounded-2xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5",children:(0,d.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,d.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 text-white font-bold text-xl flex items-center justify-center shadow-lg ring-4 ring-orange-100",children:c?.name?.split(" ").map(a=>a[0]?.toUpperCase()).join("")||"..."}),(0,d.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,d.jsx)("h2",{className:"font-bold text-gray-800 truncate",children:c?.name||"Loading..."}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-1 overflow-hidden",children:[(0,d.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c?.email?c.email.length>21?c.email.slice(0,21)+"...":c.email:"Loading..."]})]})]})})}),c?.role==="admin"&&(0,d.jsxs)("section",{className:"w-full px-5 pb-5",children:[(0,d.jsx)("p",{className:"text-gray-400 text-sm my-2",children:"PRESMA EDU"}),(0,d.jsx)("nav",{className:"flex flex-col gap-1.5",children:z.map(a=>(0,d.jsx)(y,{...a},a.href))}),(0,d.jsx)("p",{className:"text-gray-400 text-sm my-2",children:"PRESENSI"}),(0,d.jsx)("nav",{className:"flex flex-col gap-1.5",children:A.map(a=>(0,d.jsx)(y,{...a},a.href))})]}),c?.role==="guru"&&(0,d.jsx)("section",{className:"w-full px-5 pb-5",children:(0,d.jsx)("nav",{className:"flex flex-col gap-1.5",children:B.map(a=>(0,d.jsx)(y,{...a},a.href))})}),c?.role==="siswa"&&(0,d.jsx)("section",{className:"w-full px-5 pb-5",children:(0,d.jsx)("nav",{className:"flex flex-col gap-1.5",children:C.map(a=>(0,d.jsx)(y,{...a},a.href))})})]}),(0,d.jsx)("div",{className:"border-t border-gray-200 bg-gradient-to-b from-white to-slate-50 flex-shrink-0",children:(0,d.jsxs)("button",{onClick:x,className:"group w-full flex items-center gap-3 p-5 hover:bg-red-50 transition-all duration-300 cursor-pointer bg-transparent border-none text-left",type:"button",children:[(0,d.jsx)("div",{className:"p-1.5 rounded-lg group-hover:bg-red-100 transition-colors",children:(0,d.jsx)(w.A,{className:"w-5 h-5 text-gray-600 group-hover:text-red-600 transition-colors"})}),(0,d.jsx)("span",{className:"font-medium text-gray-700 group-hover:text-red-700 transition-colors",children:"Keluar"})]})})]})]})}function y({isLoading:a}){return a?(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-sm",children:(0,d.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-16 h-16 border-4 border-gray-200 rounded-full animate-loading-spinner border-t-orange-500 border-r-orange-400"}),(0,d.jsx)("div",{className:"absolute inset-2 w-12 h-12 border-4 border-transparent rounded-full animate-loading-pulse border-t-orange-300"}),(0,d.jsx)("div",{className:"absolute inset-4 w-8 h-8 border-2 border-transparent rounded-full animate-loading-bounce border-t-orange-200"})]}),(0,d.jsxs)("div",{className:"text-center space-y-2",children:[(0,d.jsx)("p",{className:"text-xl font-semibold text-gray-800 animate-loading-pulse",children:"Memuat..."}),(0,d.jsx)("p",{className:"text-sm text-gray-600 animate-loading-bounce",children:"Mohon tunggu sebentar"})]})]})}):null}function z({isLoading:a}){let[b,c]=(0,e.useState)(0);return a||0!==b?(0,d.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 h-1 bg-gray-200",children:(0,d.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-600 transition-all duration-300 ease-out",style:{width:`${b}%`}})}):null}let A=(0,e.createContext)(void 0);function B({children:a}){let[b,c]=(0,e.useState)(null);(0,f.useRouter)();let[g,h]=(0,e.useState)(!1);return(0,f.usePathname)(),(0,d.jsxs)(A.Provider,{value:{isLoading:g,setLoading:a=>{h(a)}},children:[(0,d.jsx)(z,{isLoading:g}),(0,d.jsx)(y,{isLoading:g}),a]})}var C=c(32730);function D({children:a}){let b=(0,f.usePathname)().includes("/login"),[c,g]=(0,e.useState)(!1),{isLoading:h}=function(){let a=(0,e.useContext)(A);if(void 0===a)throw Error("useLoading must be used within a LoadingProvider");return a}(),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(null),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)(null),[q,r]=(0,e.useState)(null),[s,t]=(0,e.useState)(null),[u,v]=(0,e.useState)(null),[w,y]=(0,e.useState)(null),[z,B]=(0,e.useState)(null),[D,E]=(0,e.useState)(null),[F,G]=(0,e.useState)(null),[H,I]=(0,e.useState)(null),[J,K]=(0,e.useState)(!1),L=(0,e.useMemo)(()=>({user:i,student:k,students:m,tugas:o,subjects:u,teacher:s,teachers:q,exams:w,nilai:z,schedules:D,rooms:F,classes:H}),[i,k,m,o,u,s,q,w,z,D,F,H]);return(0,d.jsxs)("div",{className:"flex flex-row min-h-screen bg-gray-100",children:[!b&&!h&&(0,d.jsx)(x,{isOpen:c,onClose:()=>g(!1),user:i}),(0,d.jsx)("div",{className:"flex-col w-full",children:(0,d.jsx)(C.A.Provider,{value:L,children:a})})]})}function E({children:a}){return(0,d.jsx)(B,{children:(0,d.jsx)(D,{children:a})})}},27372:(a,b,c)=>{Promise.resolve().then(c.bind(c,22143))},32730:(a,b,c)=>{"use strict";c.d(b,{A:()=>g,i:()=>f});var d=c(38301);let e=(0,d.createContext)({user:null,student:null,teacher:null,students:null,teachers:null,tugas:null,subjects:null,exams:null,nilai:null,schedules:null,rooms:null,classes:null}),f=()=>(0,d.useContext)(e),g=e},40524:(a,b,c)=>{Promise.resolve().then(c.bind(c,47559))},47559:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\laragon\\\\www\\\\Infra-web\\\\frontend\\\\src\\\\app\\\\edu\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\laragon\\www\\Infra-web\\frontend\\src\\app\\edu\\layout.tsx","default")},54647:()=>{}};